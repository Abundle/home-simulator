{"version":3,"file":"main.07ba235b107b3617f806.js","mappings":"uBAAIA,E,mWCGEC,G,gBAASC,GAAAA,SAAmBC,SAASC,cAAc,iBACnDC,EAAkBF,SAASC,cAAc,wBAE/CE,EAAAA,GAAAA,eAAoBC,EAAAA,IAEpB,IAmBMC,EAAmB,SAAAC,GACrBH,EAAAA,GAAAA,GAAQD,EAAiB,CACrBK,SAAU,EACVC,MAAO,GACPC,KAAM,eACNC,SAAUJ,EAAS,MAI3B,QA5B6B,SAACK,EAAcC,EAAUC,GAClD,MAAO,UAAP,OAAkBF,EAAe,IAAME,EAAvC,4FAE0BF,EAF1B,kKAKiGC,EALjG,iFAM4DD,EAAaG,QAAQ,IAAK,KANtF,+BA2BJ,EAjBuB,WAAQ,OAAOhB,EAAOiB,MAiB7C,EAhBuB,SAAAA,GAAUjB,EAAOiB,KAAOA,GAgB/C,EAdiB,SAAAC,GACb,IAAMV,EAASN,SAASiB,eAAeD,GAAIE,UAC3Cb,EAAiBC,I,sBCxBrB,QAAe,IAA0B,kDCAzC,EAAe,IAA0B,kDCAzC,EAAe,IAA0B,kDCAzC,EAAe,IAA0B,kDCAzC,EAAe,IAA0B,kDCAzC,EAAe,IAA0B,mDCAzC,EAAe,IAA0B,kDCAzC,EAAe,IAA0B,kDCyPzC,SACIa,MA/OUC,MAgPVC,SA/OaC,OAAOC,OAAOC,OAAS,IAgPpCC,OA9OW,CACX,WACA,eACA,cACA,SA2OAC,SAxOa,CACb,QACA,QACA,MACA,QAqOAC,SAjOa,CACbC,YAAa,CACTC,KAAM,aACNC,QAAS,CACL,CACId,GAAU,EACVe,KAAU,yBACVC,MAAU,QACVC,SAAU,WACVC,KAAU,GACVC,MAAUC,EACVP,KAAU,UACVQ,IAAU,oEACVC,OAAU,CAGNC,gBAAiB,CAAEC,EAAE,EAAGC,EAAE,EAAGC,EAAE,GAC/BC,KAAU,EACVC,KAAU,CAAEC,MAAO,EAAGC,SAAU,MAGxC,CACI9B,GAAU,EACVe,KAAU,uBACVC,MAAU,KACVC,SAAU,YACVC,KAAU,gCACVC,MAAUY,EACVlB,KAAU,KACVQ,IAAU,mDACVC,OAAU,CACNC,gBAAiB,CAAEC,EAAE,EAAGC,EAAE,EAAGC,EAAE,GAC/BC,KAAU,EACVC,KAAU,CAAEC,MAAO,GAAIC,SAAU,QAGzC,CACI9B,GAAU,EACVe,KAAU,+BACVC,MAAU,aACVC,SAAU,WACVC,KAAU,GACVC,MAAUa,EACVnB,KAAU,SACVQ,IAAU,0DACVC,OAAU,CACNC,gBAAiB,CAAEC,EAAE,EAAGC,EAAE,EAAGC,EAAE,GAC/BC,KAAU,EACVC,KAAU,CAAEC,MAAO,EAAGC,SAAU,MAGxC,CACI9B,GAAU,EACVe,KAAU,2BACVC,MAAU,qBACVC,SAAU,eACVC,KAAU,uCACVC,MAAUc,EACVpB,KAAU,SACVQ,IAAU,+DACVC,OAAU,CACNC,gBAAiB,CAAEC,EAAE,EAAGC,EAAE,EAAGC,EAAE,GAC/BC,KAAU,EACVC,KAAU,CAAEC,MAAO,EAAGC,SAAU,QAKhDI,QAAS,CACLrB,KAAM,UACNC,QAAU,CACN,CACId,GAAU,EACVe,KAAU,8BACVC,MAAU,cACVC,SAAU,yBACVC,KAAU,sBACVC,MAAUgB,EACVtB,KAAU,UACVQ,IAAU,uBACVC,OAAU,CACNC,gBAAiB,CAAEC,EAAE,EAAGC,EAAE,EAAGC,EAAE,GAC/BC,KAAU,EACVC,KAAU,CAAEC,MAAO,EAAGC,SAAU,MAGxC,CACI9B,GAAU,EACVe,KAAU,6BACVC,MAAU,eACVC,SAAU,UACVC,KAAU,GACVC,MAAUiB,EACVvB,KAAU,aACVQ,IAAU,2FACVC,OAAU,CACNC,gBAAiB,CAAEC,EAAE,GAAIC,EAAE,GAAIC,EAAE,IACjCC,KAAU,EACVC,KAAU,CAAEC,MAAO,GAAIC,SAAU,UAKjDO,QAAS,CACLxB,KAAM,QACNC,QAAS,CACL,CACId,GAAU,EACVe,KAAU,4BACVC,MAAU,qBACVC,SAAU,cACVC,KAAU,iCACVC,MAAUmB,EACVzB,KAAU,WACVQ,IAAU,oEACVC,OAAU,CACNC,gBAAiB,CAAEC,EAAE,EAAGC,EAAE,EAAGC,EAAE,GAC/BC,KAAU,EACVC,KAAU,CAAEC,MAAO,EAAGC,SAAU,MAGxC,CACI9B,GAAU,EACVe,KAAU,mBACVC,MAAU,eACVC,SAAU,UACVC,KAAU,cACVC,MAAUoB,EACV1B,KAAU,aACVQ,IAAU,uBACVC,OAAU,CACNC,gBAAiB,CAAEC,EAAE,EAAGC,EAAE,EAAGC,EAAE,GAC/BC,KAAU,EACVC,KAAU,CAAEC,MAAO,EAAGC,SAAU,QAKhDU,MAAO,CACH3B,KAAM,OACNC,QAAS,CACL,CACId,GAAU,EACVe,KAAU,mCACVC,MAAU,qBACVC,SAAU,cACVC,KAAU,iCACVC,MAAUmB,EACVzB,KAAU,WACVQ,IAAU,oEACVC,OAAU,CACNC,gBAAiB,CAAEC,EAAE,EAAGC,EAAE,EAAGC,EAAE,GAC/BC,KAAU,EACVC,KAAU,CAAEC,MAAO,EAAGC,SAAU,QAKhDW,cAAe,CACX5B,KAAM,WACNC,QAAS,CACL,CACId,GAAU,EACVe,KAAU,yCACVC,MAAU,qBACVC,SAAU,cACVC,KAAU,cACVC,MAAUoB,EACV1B,KAAU,WACVQ,IAAU,uBACVC,OAAU,CACNC,gBAAiB,CAAEC,EAAE,EAAGC,EAAE,EAAGC,EAAE,GAC/BC,KAAU,EACVC,KAAU,CAAEC,MAAO,EAAGC,SAAU,SAqDhDY,YA9CgB,CAChBC,MAAO,CAAEnB,EAAG,EAAGC,EAAG,IAAKC,EAAG,KAC1BkB,IAAK,CAAEpB,EAAG,EAAGC,EAAG,IAAKC,EAAG,GACxBmB,KAAM,CAAErB,EAAG,EAAGC,EAAG,IAAKC,GAAI,MA4C1BoB,sBAzC0B,CAC1BC,aAAc,EACdC,SAAU,EACVC,cAAe,EACfC,YAAa,EACbC,QAAQ,EACRC,mBAAmB,GAoCnBC,cAjCkB,CAClBC,OAAQ,EACRC,QAAS,EACTC,aAAc,IACdC,SAAU,GACVC,gBAAiB,GACjBC,iBAAkB,EAClBC,SAAS,EACTC,cAAe,EACfC,cAAe,EACfC,mBAAoB,MAwBpBC,gBArBoB,CACpBnC,MAAO,EACPC,SAAU,EACVmC,QAAS,KAmBTC,WAhBe,CACfC,OAAQ,kBACRC,YAAa,UACbC,cAAe,YC9OnB,IAAIC,EACAC,EACAC,EACAC,EAEAC,EACAC,EACAC,EACAC,EACAC,EALAC,GAAU,EAMVC,EAAQ,KA4LNC,EAAiB,SAAAC,GAAC,OAAIA,EAAI,GAAKA,EAAEC,WAAWC,SAAS,EAAG,KAAOF,GAErE,SA5L4B,WACxB,IAAMG,EAAgBrG,SAASC,cAAc,mBAEzCoG,EAAcC,UACdD,EAAcC,UAAUC,IAAI,UAE5BF,EAAcG,WAAa,WAsLnC,GAlLqB,WAAQ,OAAOhB,GAkLpC,GAjLqB,SAAAiB,GAAUjB,EAAciB,GAiL7C,GA/KiB,WAAQ,OAAOV,GA+KhC,GA9KiB,SAAAU,GAAUV,EAAUU,GA8KrC,GA5KuB,WAAQ,OAAOf,GA4KtC,GA3KuB,SAAAgB,GAAYhB,EAAcgB,GA2KjD,GAzKsB,WAAQ,OAAOpB,GAyKrC,GAxKsB,SAAAmB,GAAUnB,EAAamB,GAwK7C,GAtK0B,WAAQ,OAAOd,GAsKzC,GArK0B,SAAAe,GAAYf,EAAWe,GAqKjD,GAnK8B,WAAQ,OAAOnB,GAmK7C,GAlK8B,SAAAkB,GAAUlB,EAAOkB,GAkK/C,GAhKmB,WAAQ,OAAOX,GAgKlC,GA/JmB,SAAAa,GAAUb,EAAMa,GA+JnC,GA7JqB,WAAQ,OAAOX,GA6JpC,GA5JqB,SAAAW,GAAUX,EAAQW,GA4JvC,GA1JgB,WAAQ,OAAOf,GA0J/B,GAzJgB,SAAAgB,GAAUhB,EAAOgB,GAyJjC,GAvJ0B,WAAQ,OAAOf,GAuJzC,GAtJ0B,SAAAgB,GAAehB,EAAagB,GAsJtD,GApJoB,WAAQ,OAAOpB,GAoJnC,GAnJoB,SAAAgB,GAAUhB,EAAagB,GAmJ3C,GAjJqB,SAACK,EAASC,GAC3B,IAAMC,EAAM,IAAIC,EAAAA,GAEhBD,EAAIE,WAAWC,MAAMC,MAAQ,OAC7BJ,EAAIE,WAAWC,MAAME,YAAc,IACnCL,EAAIE,WAAWC,MAAMG,WAAa,OAElCN,EAAIT,IAAIO,EAAQS,OAAQ,SAAU,CAC9B,OAAcC,EAAAA,EAAAA,OAAAA,OACd,aAAcA,EAAAA,EAAAA,OAAAA,QACd,IAAcA,EAAAA,EAAAA,OAAAA,IACd,MAAcA,EAAAA,EAAAA,OAAAA,MACd,OAAcA,EAAAA,EAAAA,OAAAA,SACfC,UAAS,SAAAC,GACRZ,EAAQS,OAAOjD,OAASqD,SAASD,MAErCV,EAAIT,IAAIqB,EAAO5C,gBAAiB,QAAS,EAAG,GAAI,GAAGyC,UAAS,SAAAC,GACxDX,EAAUc,SAAV,MAA4BH,MAAQA,KAExCV,EAAIT,IAAIqB,EAAO5C,gBAAiB,WAAY,EAAG,GAAI,IAAKyC,UAAS,SAAAC,GAC7DX,EAAUc,SAAV,SAA+BH,MAAgB,KAARA,KAE3CV,EAAIT,IAAIqB,EAAO5C,gBAAiB,UAAW,EAAG,IAAM,MAAOyC,UAAS,SAAAC,GAChEX,EAAUc,SAAV,QAA8BH,MAAQA,KAE1CV,EAAIc,OAAM,GACVd,EAAIT,IAAIO,EAAQS,OAAQ,WAAY,EAAG,GACvCP,EAAIT,IAAIO,EAAQS,OAAQ,eAAgB,EAAG,GAC3CP,EAAIT,IAAIO,EAAQS,OAAQ,WAAY,EAAG,IACvCP,EAAIT,IAAIO,EAAQS,OAAQ,kBAAmB,EAAG,KAC9CP,EAAIT,IAAIO,EAAQS,OAAQ,mBAAoB,EAAG,GAC/CP,EAAIT,IAAIO,EAAQS,OAAQ,WACxBP,EAAIT,IAAIO,EAAQS,OAAQ,gBAAiB,EAAG,KAC5CP,EAAIT,IAAIO,EAAQS,OAAQ,gBAAiB,GAAK,KAC9CP,EAAIT,IAAIO,EAAQS,OAAQ,qBAAsB,EAAK,KA+GvD,GA5GuB,SAAAQ,GACnB,IAAMC,EAAQ,IAAIC,EAAAA,IAOlB,OAHAD,EAAMxF,EAAKuF,EAAMG,QAAU5G,OAAO6G,WAAc,EAAI,EACpDH,EAAMvF,GAAOsF,EAAMK,QAAU9G,OAAO+G,YAAe,EAAI,EAEhDL,GAoGX,GAjGoB,WAEhB,IAAMM,EAAUtI,SAASuI,cAAc,OAEvCD,EAAQ9B,UAAY,aACpB8B,EAAQnB,MAAMqB,QAAUZ,EAAOzG,MAAQ,MAAQ,IAC/CmH,EAAQG,UAAR,mhBAWAzI,SAAS0I,KAAKC,YAAYL,GAG1B,IAAM5B,EAAS,IAAIkC,EAAAA,GAAYN,GAK/B,OAJA5B,EAAOmC,SAASC,IAAI,EAAG,EAAG,GAC1BpC,EAAOqC,SAAW,CAAED,KAAK,GAGlB,CACHR,QAASA,EACT5B,OAAQA,IAsEhB,GAtDwB,SAAAD,GAChBzG,SAASC,cAAc,+BACnBwG,EACAzG,SAASC,cAAc,6BAA6BqG,UAAUC,IAAI,sBAElEvG,SAASC,cAAc,6BAA6BqG,UAAU0C,OAAO,uBAIzEhJ,SAASC,cAAc,2BACnBwG,EACAzG,SAASC,cAAc,yBAAyBqG,UAAUC,IAAI,+BAE9DvG,SAASC,cAAc,yBAAyBqG,UAAU0C,OAAO,gCAIrEvC,EACAzG,SAASC,cAAc,uBAAuBqG,UAAUC,IAAI,yBAE5DvG,SAASC,cAAc,uBAAuBqG,UAAU0C,OAAO,wBAC/DhJ,SAASC,cAAc,uBAAuBqG,UAAUC,IAAI,wBAiCpE,GAtBkB,SAAC0C,EAAOC,EAAKC,GAAb,OAAuBF,EAAQE,EAPnB,SAACF,EAAOC,GAGlC,IAAME,IAAoBF,EAAMD,GAAS,IAAO,KAAO,IAAO,IAE9D,OAAOI,KAAKC,IAAI,EAAGF,GAEkCG,CAAsBN,EAAOC,IAsBtF,GApBoB,SAAAM,GAEhB,IAAMC,EAAIJ,KAAKK,MAAOF,EAAQ,KAAQ,EAAI,KACpCG,EAAKH,EAAQ,GAAM,EAIzB,MAAO,CAAEI,MAFKH,EAAI,EAAI,GAAKA,EAAIA,EAEfI,QADAF,EAAI,EAAI,GAAKA,EAAIA,IAcrC,GAVoB,SAAC,GAAD,SAAGC,MAA8B,GAAM,GAAgB,GAAvD,EAAUC,SAU9B,GARmB,SAAC,GAAuB,IAArBD,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,QAEnBJ,EAAIxD,EAAe2D,GACnBD,EAAI1D,EAAe4D,GACzB,MAAO,GAAP,OAAWJ,EAAX,YAAkBE,IC5MtB,GAAe,IAA0B,8CC6CzC,IAAMG,GAAgB9J,SAASiB,eAAe,aACxC8I,GAAgB,IAAIC,EAAAA,IACpBC,GAAgB,IAAIC,EAAAA,IACpBC,GAAgB,IAAID,EAAAA,IACpBE,GAAgB,IAAIC,EAAAA,GACpBC,GAAgB,IAAIC,EAAAA,IACpBC,GAAgB,IAAIC,EAAAA,IACpBC,GAAgB,IAAIC,EAAAA,IACpBC,GAAgB,IAAIC,EAAAA,EAEpBC,GAAgBxJ,OAAO6G,WACvB4C,GAAgBzJ,OAAO+G,YACvB2C,GAAgBF,GAAcC,GAE9BzI,GAAgB,IAAI2I,EAAAA,IACtB,EACAD,GACA,GACA,KAEEtJ,GAAc,IAAIwJ,EAAAA,EAAc5I,GAAQ8H,GAAclD,YACtDiE,GAAc,IAAIC,EAAAA,GAAerB,IACjCsB,GAAc,IAAIC,EAAAA,EAAY,IAAIrD,EAAAA,IAAQ6C,GAAaC,IAAed,GAAO3H,IAC7EiJ,GAAc,IAAIC,EAAAA,EAAWC,EAAAA,GAC7BC,GAAcC,KACdC,GAAchE,EAAOnG,OAAOoK,OAG5BC,GAA0B,IAK1BC,GAA0B,IAAIC,EAAAA,IAAM,SACpCC,GAA0B,IAAID,EAAAA,IAAM,UACpCE,GAA0B,IAAIF,EAAAA,IAAM,SACpCG,GAA0B,IAAIH,EAAAA,IAAM,SACpCI,GAA0B,IAAIJ,EAAAA,IAAM,UACpCK,GAA0B,IAAIL,EAAAA,IAAM,SACpCM,GAA0B,IAAIN,EAAAA,IAAM,UACpCO,GAA0B,IAAIP,EAAAA,IAAM,UACpCQ,GAA0B,IAAIR,EAAAA,IAAM,KACpCS,GAA0B,IAAIT,EAAAA,IAAM,UACpCU,GAA0B,IAAIV,EAAAA,IAAM,QAEpCW,GAAmB,IAAIC,EAAAA,IAAiB,UACxCC,GAAmB,IAAIC,EAAAA,IAAa,UACpCC,GAAmB,IAAIC,EAAAA,IAAgB,SAAU,SAAU,IAC3DC,GAAmB,CACrB,QAAW,CAAEvG,OAAQ,IAAIwG,EAAAA,IAAW,SAAU,EAAG,GAAIrE,SAAU,IAAIsE,EAAAA,KAAS,EAAG,EAAG,IAClF,QAAW,CAAEzG,OAAQ,IAAIwG,EAAAA,IAAW,SAAU,EAAG,GAAIrE,SAAU,IAAIsE,EAAAA,KAAS,EAAG,GAAI,MACnF,cAAiB,CAAEzG,OAAQ,IAAIwG,EAAAA,IAAW,SAAU,EAAG,IAAKrE,SAAU,IAAIsE,EAAAA,IAAQ,EAAG,GAAI,MACzF,YAAe,CAAEzG,OAAQ,IAAIwG,EAAAA,IAAW,SAAU,EAAG,GAAIrE,SAAU,IAAIsE,EAAAA,IAAQ,EAAG,GAAI,OAwJpFC,GAAqB,WACvBjC,GAASkC,QAAQvC,GAAaC,IAE9B,IAAMuC,EAAa,IAAIC,EAAAA,EAAWtD,GAAO3H,IACzC6I,GAASqC,QAAQF,GAEjBjC,GAAY9D,OAASK,EAAO9D,sBAC5BuH,GAAYoC,iBAAiB3E,IAAI,WACjCuC,GAAYqC,gBAAgB5E,IAAI,WAChCqC,GAASqC,QAAQnC,IAEjB,IAAMvE,EAAU,IAAIU,EAAAA,EAAQyC,GAAO3H,IAAQ,GAAO,GAClDwE,EAAQS,OAASK,EAAOvD,cACxBsH,GAAiB7E,GACjBqE,GAASqC,QAAQ1G,GAEjByE,GAAW1D,SAAX,WAAkCH,MAAMoB,IAAI,EAAIgC,GAAa,EAAIC,IACjEI,GAASqC,QAAQjC,IAEjB,IAAMoC,EAAkB,IAAInC,EAAAA,EAAWoC,EAAAA,GACvCzC,GAASqC,QAAQG,GAEjB,IAAM5G,EAAY,IAAI8G,EAAAA,EAAU5D,GAAO3H,GAAQsF,EAAO5C,iBACtD2G,GAAmB5E,GACnBoE,GAASqC,QAAQzG,GAEjBa,EAAOzG,OAASwK,GAAmB7E,EAASC,IAI1CkC,GAAQ,WACV6E,KACAC,MAGED,GAAU,SAAVA,IAKF,GAJAE,sBAAsBF,GAIlBpC,GAAMhF,OAAOqC,SAASD,IAAK,CAC3B4C,GAAMhF,OAAOuH,WAAWnF,IAAI,EAAG,EAAG,EAAG,GAErC0B,GAAWyD,WAAWC,MAAM5L,GAAO2L,WAAY,KAI/C,IAAME,EAAqBC,GAAeC,WAAW/L,GAAOuG,UA9NpC,GA+NxB6C,GAAMhF,OAAO4H,MAAMC,UAAUJ,GAC7BzC,GAAMhF,OAAOmC,SAASpG,EAAyB,IAArB0L,EAA2B,IAIzDzM,GAAS8M,SACT9M,GAAS+M,SAAW9C,KAEpBA,MAAiCf,GAAM8D,QAEvCvD,GAASwD,SACTvE,GAAcuE,OAAOxE,GAAY7H,IAEjCqJ,MAAiCf,GAAM1B,OAGrC0F,GAAe,WAEjBtM,GAAO0I,OAASF,GAAcC,GAE9B,IAAMvJ,EAAQF,OAAO6G,WACf0G,EAASvN,OAAO+G,YAEtB/F,GAAO0I,OAASxJ,EAAQqN,EACxBvM,GAAOwM,yBAEP/E,GAASsD,QAAQ7L,EAAOqN,GACxB1D,GAASkC,QAAQ7L,EAAOqN,GACxBzE,GAAciD,QAAQ7L,EAAOqN,GAE7BtD,GAAW1D,SAAX,WAAkCH,MAAMoB,IAAI,EAAEtH,EAAO,EAAEqN,IAGrDE,GAAgB,SAAChH,EAAOuC,GAK1B,OAHAA,EAAU0E,cAAcrD,GAAqB5D,GAAQzF,IAG9CgI,EAAU2E,iBAAiBhF,GAAMiF,UAAU,IAGhDC,GAAc,SAAApH,GAChB,IAAMqH,EAAaL,GAAchH,EAAOuC,IAExC,GAAI8E,EAAWvD,OAAS,EAAG,CACvB,IAAMwD,EAAgBD,EAAW,GAAG1I,OACpCiF,IAA0D,IAAtC0D,EAActN,KAAKuN,QAAQ,OAE3C3D,MACA4D,GAAYF,GACZhE,GAAYmE,gBAAkB,CAACH,GAC/BrP,SAAS0I,KAAKvB,MAAMsI,OAAS,YAE7BpE,GAAYmE,gBAAkB,GAC9BxP,SAAS0I,KAAKvB,MAAMsI,OAAS,aAKnCC,GAAU,SAAA3H,GACZ,IAAMqH,EAAaL,GAAchH,EAAOuC,IAEpCqB,MAEAoC,KACA4B,MAEIP,EAAWvD,OAAS,GAEpBF,IAAiE,IAA7CyD,EAAW,GAAG1I,OAAO3E,KAAKuN,QAAQ,OAElD3D,OAA2ByD,EAAW,GAAG1I,QAAUiF,MAInDA,GAAqByD,EAAW,GAAG1I,QAInCkJ,GAAajE,MACbkE,GAAYnE,IACZ1L,SAAS0I,KAAKvB,MAAMsI,OAAS,WAE7BE,MAGJA,MAMNG,GAAoB,SAACC,EAAiBC,GACxC/F,GAAMgG,WAAWC,KAAKF,EAAO,GAAI3G,KAAKC,IAAI,EAAGyG,IAC7ClD,GAAasD,MAAMD,KAAKF,EAAO,GAAI3G,KAAKC,IAAI,EAAGyG,IAC/ChD,GAAgBoD,MAAMD,KAAKF,EAAO,GAAI3G,KAAKC,IAAI,EAAGyG,IAClDhD,GAAgBhB,YAAYmE,KAAKF,EAAO,GAAI3G,KAAKC,IAAI,EAAGyG,KAMxDK,GAAW,EACXC,GAAgB,EAChBC,GAAa,EA6DXC,GAAiB,SAAA9J,GACnB+J,OAAOC,OAAOxD,IAAayD,SAAQ,SAAAC,GAC/BA,EAAMjK,OAAOkK,UAAYnK,EAAO,EAAI,MAItCoK,GAAc,SAAAnH,GAWhB,IAVA,IAAMoH,EAAgB,SAACC,EAAOC,GACtBA,GACA1O,GAAO2O,OAAOC,OAAOH,GACrBzG,GAAU2G,OAAOC,OAAOH,KAExBzO,GAAO2O,OAAOE,QAAQJ,GACtBzG,GAAU2G,OAAOE,QAAQJ,KAIxBK,EAAI,EAAGA,GAAK1H,EAAO0H,IAAON,EAAcM,GAAG,GACpD,IAAK,IAAIA,EAAIxF,GAAYwF,EAAI1H,EAAO0H,IAAON,EAAcM,GAAG,IAG1DC,GAAgB,SAClBC,GAIwB,IAHxBC,EAGwB,uDAHX,EACbhR,EAEwB,uDAFb,IACXiR,EACwB,uDADhB,aACRC,EAAwB,wDACxBtR,EAAAA,GAAAA,GAAQmC,GAAOuG,SAAU,CACrBtI,SAAUA,EACViC,EAAG8O,EAAe9O,EAClBC,EAAG6O,EAAe7O,EAClBC,EAAG4O,EAAe5O,EAClBjC,KAAM+Q,EACNE,QAAS,WACL/F,IAAmB,GAEnB7B,GAAU6H,oBAAoB,YAAaxC,IAC3CrF,GAAU6H,oBAAoB,QAASjC,KAE3CkC,WAAY,WACRjG,IAAmB,GAEnB7B,GAAU+H,iBAAiB,YAAa1C,IACxCrF,GAAU+H,iBAAiB,QAASnC,IAEhC+B,GACAK,QAIZ3R,EAAAA,GAAAA,GAAQmC,GAAQ,CACZ/B,SAAUA,EACVoC,KAAM4O,EACN9Q,KAAM,gBAORsR,GAAgB,SAACC,GAAsE,IAA9DzR,EAA8D,uDA/b7D,IA+bmCiR,EAA0B,uDAAjB,aACxErR,EAAAA,GAAAA,GAAQuB,GAASuQ,OAAQ,CACrB1R,SAAUA,EACViC,EAAGwP,EAAOxP,EACVC,EAAGuP,EAAOvP,EACVC,EAAGsP,EAAOtP,EACVjC,KAAM+Q,EACNE,QAAS,WACL/F,IAAmB,IAEvBiG,WAAY,WACRjG,IAAmB,OAKzB4D,GAAc,SAAA7I,GAChB,IAAMwL,EAAkBxL,EAAOqC,SAAShH,KAAKoQ,MAAM,KAC7CC,EAAkBF,EAAgB,GAClClR,EAAkBkR,EAAgB,GAExCG,GAAS3G,GAAOhF,EAAOmC,SAAUnC,EAAO4L,SAASC,eAAeC,OAAQJ,EAAUpR,IAGhF4O,GAAe,SAAAlJ,GACjB,IAAQqC,EAA2CrC,EAA3CqC,SAAU0J,EAAiC/L,EAAjC+L,SAAUH,EAAuB5L,EAAvB4L,SAAUzJ,EAAanC,EAAbmC,SAChCqJ,EAAkBnJ,EAAShH,KAAKoQ,MAAM,KACtCC,EAAkBF,EAAgB,GAClClR,EAAkBkR,EAAgB,GAElCnB,EAAiB0B,EAAS1Q,KAAK2Q,OAAO,GACtCC,EAAiBL,EAASC,eAAeC,OACzCpE,EAAiBvF,EAEjB+J,EAAiBhL,EAAOjG,SAASyQ,GAAUtQ,QAAQ+Q,MAAK,SAAAnM,GAAM,OAAIA,EAAO1F,KAAO2G,SAAS3G,MAE/F2K,GAAwBjF,GAExB2K,GAAc,CACV7O,EAAG4L,EAAe5L,EAAImQ,EAAaC,EAActQ,OAAOC,gBAAgBC,EACxEC,EAAG2L,EAAe3L,EAAIkQ,EAAaC,EAActQ,OAAOC,gBAAgBE,EACxEC,EAAG0L,EAAe1L,EAAIiQ,EAAaC,EAActQ,OAAOC,gBAAgBG,GARrD,OASdoQ,OAAWA,GAAW,GAE/Bf,GAAc3D,GAEd2E,YAAW,WACPC,EAAA,UAAwBZ,EAAxB,YAAsCpR,MACvCiS,GAEClC,IACAF,GAAYE,GACZ/Q,SAASiB,eAAe,SAAW8P,GAAOmC,SAAU,IAStD9E,GAAiB,IAAIjB,EAAAA,IAErBkF,GAAW,SAAC3G,EAAO7C,EAAU2J,EAAQJ,EAAUpR,GAEjD,IAAMmS,EAAavL,EAAOjG,SAASyQ,GAAUtQ,QAAQ+Q,MAAK,SAAAnM,GAAM,OAAIA,EAAO1F,KAAO2G,SAAS3G,MAEvFhB,SAASC,cAAc,iBAEvBD,SAASiB,eAAe,eAAemS,YAAcD,EAAWnR,MAChEhC,SAASiB,eAAe,kBAAkBmS,YAA1C,eAAiED,EAAWlR,UAC5EjC,SAASiB,eAAe,eAAekG,MAAMkM,gBAA7C,cAAuEF,EAAWhR,MAAlF,MAIJiM,GAAekF,KAAK9I,GAAW3B,UAC/BuF,GAAemF,aAAazH,IAG5B3B,GAAW5D,IAAIiE,IACfA,GAAWjE,IAAImF,EAAMhF,QAGrB8D,GAAW3B,SAASC,IAAIgD,GAAajD,EAASrG,EAAGsJ,GAAajD,EAASpG,EAAGqJ,GAAajD,EAASnG,GAEhGgJ,EAAMpD,QAAQnB,MAAMqB,QAAU,MAC9BkD,EAAMhF,OAAOqC,SAAW,CAAED,KAAK,IAG7B+G,GAAc,SAAAnE,GAEhBA,EAAMpD,QAAQnB,MAAMqB,QAAUZ,EAAOzG,MAAQ,MAAQ,IACrDuK,EAAMpD,QAAQnB,MAAMqM,cAAgB,OAEpCrJ,GAAW5D,IAAImF,EAAMhF,QACrBgF,EAAMhF,OAAOmC,SAASC,IAAI,EAAG,EAAG,GAChC4C,EAAMhF,OAAOqC,SAAW,CAAED,KAAK,IAG7B2K,GAAU,SAAAhN,GACZA,EAAOnE,GAAOoR,cAAc5I,GAAaC,GAtiBb,IAsiB4C,EAAGD,GAAaC,IAClFzI,GAAOqR,mBAGX5F,GAAc,WAIhBsD,GAHY,CAAE7O,GAAI,IAAKC,EAAG,IAAKC,EAAG,KAGf,OAAGoQ,EAAW,cACjCf,GAAc,CAAEvP,EAAG,EAAGC,EAAG,EAAGC,EAAG,KAG7BiN,GAAgB,WAIlBhE,GAAqB,MAErBiI,KACA/D,GAAYnE,IACZC,GAAwB,OAGtBmG,GAAa,WACf2B,IAAQ,GACRT,GAA0B,GAC1BrH,GAAeqH,KAA6D,OAA9BrH,MAG9CjK,GAASmS,WAAY,EACrBnS,GAASoS,YAAa,GAErBnI,MAAoBkE,GAAYnE,IAEjC5B,GAAU6H,oBAAoB,YAAaxC,IAG3CxD,KAAmBoI,GAAS,CAAElR,MAAO,GAAIC,SAAU,OAC7CiR,GAAS,CAAElR,MAAO,EAAGC,SAAU,MAGnC8Q,GAAc,WAChBH,IAAQ,GACRT,GAA0B,GAC1BrH,IAAe,GAEfjK,GAASmS,WAAY,EACrBnS,GAASoS,YAAa,EAEtBhK,GAAU+H,iBAAiB,YAAa1C,IAExC4E,MAWEA,GAAW,WAAwC,IAAvCtD,EAAuC,uDAA9B,CAAE5N,MAAO,EAAGC,SAAU,GAC7C0N,OAAOwD,QAAQvD,GAAQwD,KAAI,YAAkB,mBAAhBC,EAAgB,KAAXxM,EAAW,KACzCiE,KAAqB9D,SAASqM,GAAKxM,MAAQA,MAsBnD,UACIyM,KAjmBS,WACT,IAAMC,EAAkBpU,SAASiB,eAAe,YAEhDK,OAAOuQ,iBAAiB,SAAUjD,IAClC9E,GAAU+H,iBAAiB,YAAa1C,IACxCrF,GAAU+H,iBAAiB,QAASnC,IAEpCzF,GAAMgG,WAAa,IAAIjE,EAAAA,IAEvB7B,GAAW5D,IAAImF,GAAMhF,QACrByD,GAAWmE,MAAMC,UAAU,MAE3BxE,GAASsK,cAAc/S,OAAOgT,kBAC9BvK,GAASsD,QAAQvC,GAAaC,IAC9BhB,GAASwK,eAAiBC,EAAAA,IAC1BzK,GAAS0K,UAAUhG,SAAU,EAC7B3E,GAAUnB,YAAYoB,GAAS7C,YAE/BkD,GAAciD,QAAQvC,GAAaC,IACnCX,GAAclD,WAAWC,MAAM0B,SAAW,WAC1CuB,GAAclD,WAAWC,MAAMvD,IAAM,MACrCkG,GAAUnB,YAAYyB,GAAclD,YAEpC5E,GAAO0I,OAASA,GAOhB1I,GAAOoS,SAASC,MAAQ,MAExBjT,GAASkT,aAAe,CACpBC,KAAMC,EAAAA,IAAAA,IACNC,OAAQD,EAAAA,IAAAA,OACRE,MAAOF,EAAAA,IAAAA,OAEXpT,GAASuT,eAAgB,EACzBvT,GAASwT,cAAgB,IACzBxT,GAASyT,cAAgBvN,EAAOzG,MAAQkI,KAAK+L,GAAK/L,KAAK+L,GAAK,EAC5D1T,GAAS2T,YAAgBzN,EAAOzG,MAAQ,EAAI,GAC5CO,GAAS4T,YAAgB1N,EAAOzG,MAAQoU,EAAAA,EAAW,IAEnD5I,GAAiB6I,YAAa,EAC9B7I,GAAiB8I,OAAOC,QAAQlU,MAAS,KACzCmL,GAAiB8I,OAAOC,QAAQ7G,OAAS,KAGzClC,GAAiB8I,OAAOnT,OAAOqT,MADrB,GAEVhJ,GAAiB8I,OAAOnT,OAAOsT,MAFrB,GAGVjJ,GAAiB8I,OAAOnT,OAAOsB,IAHrB,GAIV+I,GAAiB8I,OAAOnT,OAAOuT,QAJrB,GAMV5L,GAAM1D,IAAIoG,IACV1C,GAAM1D,IAAIsG,IAGV,IAAK,IAAL,MAAyB2D,OAAOC,OAAOxD,IAAvC,eAAqD,CAAhD,IAAM6I,EAAU,KACjBA,EAAWpP,OAAO8O,YAAa,EAC/BM,EAAWpP,OAAOmC,SAASyK,KAAKwC,EAAWjN,UAC3CoB,GAAM1D,IAAIuP,EAAWpP,QAGzBqG,GAAgBlE,SAASC,IAAI,EAAG,GAAI,GACpCmB,GAAM1D,IAAIwG,IAGV,IAAMuF,EAAW,IAAIyD,EAAAA,IAAoB,IAAK,KAC9CzD,EAAS0D,SAAS3M,KAAK+L,GAAK,GAC5B9C,EAAS2D,UAAU,GAAI,GAAK,GAC5B,IAAMxD,EAAW,IAAIyD,EAAAA,IAAqB,CACtC/F,MAAOpE,GAAaoK,aAAa,IAE/BC,EAAQ,IAAIC,EAAAA,IAAK/D,EAAUG,GACjC2D,EAAME,eAAgB,EACtBrM,GAAM1D,IAAI6P,GAEV,IAAMG,EAAS,IAAIC,EAAAA,EAEbC,EAAc,IAAIC,EAAAA,EAqDxB,GApDAD,EAAYE,eAAe,mBAC3BJ,EAAOK,eAAeH,GAEtBF,EAAOM,KAAKC,IAAW,SAAAC,GACnBpL,KAEA,IAAMqL,EAAQD,EAAK9M,MAqBnB,GAnBA+M,EAAMC,UAAS,SAAAC,GACX,GAAIA,aAAgBb,EAAAA,IAAM,CACtBa,EAAKZ,eAAgB,EACrBY,EAAK1B,YAAa,EAClB0B,EAAKzE,SAAS0E,aAAc,EAE5B,IAAMC,EAAQzP,SAASuP,EAAKzE,SAAS1Q,KAAK2Q,OAAO,IACjDwE,EAAKjG,OAAOnI,IAAIsO,OAOxB1M,GAAUnE,IAAIyQ,GACd/M,GAAM1D,IAAImE,IAIN2M,EAAAA,EAAAA,mBACApO,SACG,CACH,IAAMqO,EAAUD,EAAAA,EAAAA,uBAChBvN,GAAUnB,YAAY2O,OAG9B,SAAAC,GACI,IAAMC,EAAanO,KAAKoO,MAAMF,EAASG,OAASH,EAASI,MAAQ,KACjEvD,EAAgBhB,YAAcoE,EAAWrR,WAEzCyR,QAAQC,IAAI,SAAWL,EAAa,eAExC,SAAAM,GACIF,QAAQC,IAAI,QAASC,MAMzB1K,KAEAtD,GAAUnB,YAAYiC,GAAMmN,KAGxBnQ,EAAOzG,MAAO,CACd,IAAM6W,EAAoB,IAAIC,EAAAA,IAAatL,GAAiB8I,OAAOnT,QACnE2H,GAAM1D,IAAIyR,GAEV,IAAME,EAAmB,IAAIC,EAAAA,IAAsBpL,GAAiB,GACpE9C,GAAM1D,IAAI2R,GAEV,IAAME,EAAa,IAAIC,EAAAA,IAAW,GAClCpO,GAAM1D,IAAI6R,GAEV,IAAK,IAAL,MAAyB5H,OAAOC,OAAOxD,IAAvC,eAAqD,CAAhD,IAAM6I,EAAU,KACXwC,EAAmB,IAAIC,EAAAA,IAAiBzC,EAAWpP,OAAQ,IACjEuD,GAAM1D,IAAI+R,MAkdlBzH,YAAAA,GACA2H,eAnTmB,WAWnB,MAAwB7M,KAAb+I,GAAX,EAAQ+D,EAAR,EAAW/D,UACLgE,GAAmBrP,KAAK+L,GAAK,EAAIV,GAAYrL,KAAK+L,GAAK,KAAO,GAI9DuD,EADS,GACOtP,KAAKuP,IAAIF,GACzBG,EAFS,GAEOxP,KAAKyP,IAAIJ,GACzBK,EAAI1P,KAAK2P,IAAI,EAAGL,EAAO,IAE7BhM,GAAiB9D,SAASC,IAAI+P,EAAMF,EAAMA,GAC1ChM,GAAiBiE,UAAYmI,EAC7BlM,GAAa+D,UAAYmI,EAErB,IAAMJ,GACNtI,GAAgB,EAChBC,GAAa,EAGbR,GAFAM,IAAY6I,KAIR,CAAChN,GAAeC,GAAsBC,GAAsBC,KAEhEmE,IAAe,GACf5E,IAAsB,IACf,EAAIgN,GAAQA,EAAO,IAC1BvI,GAAW,EAGXN,GAFAO,IAAiB4I,KAIb,CAAC5M,GAAeA,GAAeC,GAAsBC,KAEzDgE,IAAe,GACf5E,IAAsB,KAEtB0E,GAAgB,EAGhBP,GAFAQ,IAAc2I,KAIV,CAACzM,GAAiBC,GAAwBC,GAAwBF,KAEtE+D,IAAe,GACf5E,IAAsB,KA8P1B0F,cAAAA,GACAU,cAAAA,GACAmH,UAxIc,SAAAnX,GAEd,OAAO2I,GAAUyO,gBAAgBpX,IAuIjC6N,aAAAA,GACAL,YAAAA,GACAxB,YAAAA,GACA4B,cAAAA,GACAyJ,aA3CiB,WACjBpG,IAA8BY,KAAe9B,MA2C7CuH,uBA9B2B,SAAA5S,GAC3BmE,GAAMmN,IAAI5Q,MAAMmS,QAAU7S,EAAO,QAAU,OAC3CkF,GAA4BlF,IA6B5B8S,QAzCY,SAAA9S,GACZkF,KAAmBpE,OAAOjD,OAASmC,EAAO,EAAI,GAyC9C+S,YA3BgB,SAAA/S,GAChBkG,GAAiB6I,WAAa/O,EAC9B,IAAK,IAAL,MAAyB+J,OAAOC,OAAOxD,IAAvC,eAAqD,CAAhC,KACNvG,OAAO8O,WAAa/O,K,QCtpBvC,SApCc,SAAA9E,GAAQ,OAAI6O,OAAOiJ,KAAK9X,GAAUsS,KAAI,SAAC7B,EAAUvR,GAAX,6BACtCuR,EAAW,IAAMvR,EADqB,6DACuCuR,EAAStR,QAAQ,IAAK,KAD7D,4BAG7Ca,EAASyQ,GAAUtQ,QAAQmS,KAAI,SAAAyF,GAAI,mCACtBtH,EADsB,YACRsH,EAAK1Y,GADG,uEAEnB0Y,EAAKrX,IAFc,0LAI6DqX,EAAKvX,MAJlE,kPAO8DuX,EAAK1X,MAPnE,0HAQiE0X,EAAKzX,SARtE,wKAcb,KAAdyX,EAAKxX,KAAc,GAAnB,gFAAkGwX,EAAKxX,KAAvG,UAd2B,4OAkBRwX,EAAK3X,KAlBG,gNAoB6C2X,EAAK7X,KApBlD,0JAwBX6X,EAAKrX,IAxBM,uQA8BnCsX,KAAK,IAjCwC,SAkCjDA,KAAK,KCRR,SAzBe,SAAAlY,GAAM,wDAEdA,EAAOwS,KAAI,SAAClD,EAAOlQ,GAClB,IAAMuQ,EAAIvQ,EAAQ,EAElB,MAAO,6LAAP,OAI4BuQ,EAJ5B,yFAMwBA,EANxB,qCAOkBA,IAAM3P,EAAOoK,OAAS,UAAY,GAPpD,+VAeyBuF,EAfzB,aAeiCL,EAfjC,yBAiBD4I,KAAK,IAtBS,OCqErB,SA9DiB,SAAAC,GAAM,0DAEhBA,EAAOlY,SAASuS,KAAI,SAAA4F,GAAI,yCACLA,EADK,6JAGgBA,EAHhB,uCAKxBF,KAAK,IAPW,kMAW2CC,EAAOvY,SAXlD,utCAkCyCuY,EAAOzY,MAlChD,6iCAPJ,uHAOI,OCmBvB,IAAM2Y,GAAe,IAAIC,EAAAA,GAAQ/Z,SAASC,cAAc,uBACxD6Z,GAAaE,iBAAkB,EAE/B,IA2BUC,GAhBJC,GAAa,SAAAC,GACfA,EAAQC,OAAO,kBAAkB,SAAArS,GAC7B,IAAMkK,EAASlK,EAAMsS,OAAOxZ,MACtBuR,EAAWrK,EAAMkK,OAAO/C,SAAS+C,GAEnCe,KAIA9I,GAAMkP,eAHNpG,EAAoBZ,EAASpR,QA4CnCsZ,GAAW,SAACC,EAAeC,GAAhB,OAAoC,IAAIC,sBAAqB,SAAAzG,GAC1EA,EAAQtD,SAAQ,SAAAgK,GACZ,GAAIA,EAAMC,kBAAoB,EAAG,CAC7B,IAAM9Z,EAAQ6Z,EAAMzI,OAAOjR,GAAGmR,MAAM,KAAK,GACzCoI,EAAcK,cAAgBC,OAAOha,SAG9C,CACCia,KAAMN,EACNO,WAAY,mBACZva,MAAO,OAGLwa,GAAkB,SAAAC,GACpBjb,SAASkb,iBAAiB,mBAAmBxK,SAAQ,SAAAgJ,GACjDuB,EAAIE,QAAQzB,QA5EK,WACrB,IAAM/X,EAAWiG,EAAOjG,SAExB6O,OAAOiJ,KAAK9X,GAAUsS,KAAI,SAAC7B,EAAUvR,GACjC,IAAMua,EAASpI,EAAgCZ,EAAUzQ,EAASyQ,GAAUvQ,KAAMhB,GAClFb,SAASC,cAAc,sBAAsBwI,WAAa2S,KAG9DlB,GAAWJ,IA8MfuB,GACAnR,GAAMiK,OA5LI8F,GAAoBja,SAASC,cAAc,SACjDD,SAASC,cAAc,UAAUwI,UAAY6S,GAAM1T,EAAOjG,UAC1DqZ,GAAgBV,GAASR,GAAcG,KAEvCja,SAASkb,iBAAiB,sBAAsBxK,SAAQ,SAAApI,GACpDA,EAAQuJ,iBAAiB,SAAS,SAAA9J,GAC9B,IAAMrB,EAASwD,GAAMgP,UAAUnR,EAAMkK,OAAOjR,IAC5CkJ,GAAM0F,aAAalJ,SAKZ,WACf1G,SAASC,cAAc,WAAWwI,UAAY8S,GAAO3T,EAAOnG,QAE5D,IAAM+Z,EAAQ,IAAIC,EAAAA,GAASzb,SAASC,cAAc,eAC5Cyb,EAAY,IAAIC,EAAAA,GAAa3b,SAASC,cAAc,8BAC1Dyb,EAAUE,MAAQJ,EAElBtR,GAAM2G,YAAYjJ,EAAOnG,OAAOoK,QAEhC6P,EAAUtB,OAAO,UAAU,SAAArS,GAAWmC,GAAM2G,YAAY9I,EAAMkK,OAAOvK,UAyKzEmU,GAzIqB,WACjB7b,SAASC,cAAc,aAAawI,UAAYqT,GAASlU,GAEzD5H,SAASC,cAAc,sBAAsB4R,iBAAiB,SAAS,WACnE3H,GAAM6D,cACN7D,GAAMyF,mBAGV3P,SAASC,cAAc,sBAAsB4R,iBAAiB,SAAS,WACnE3H,GAAMmH,cAAczJ,EAAOlE,YAAYC,OACvCuG,GAAM6H,cAAc,CAAEvP,EAAG,EAAGC,EAAG,EAAGC,EAAG,IACrCwH,GAAMyF,mBAGV3P,SAASC,cAAc,oBAAoB4R,iBAAiB,SAAS,WACjE3H,GAAMmH,cAAczJ,EAAOlE,YAAYE,KACvCsG,GAAM6H,cAAc,CAAEvP,EAAG,EAAGC,EAAG,EAAGC,EAAG,IACrCwH,GAAMyF,mBAGV3P,SAASC,cAAc,qBAAqB4R,iBAAiB,SAAS,WAClE3H,GAAMmH,cAAczJ,EAAOlE,YAAYG,MACvCqG,GAAM6H,cAAc,CAAEvP,EAAG,EAAGC,EAAG,EAAGC,EAAG,IACrCwH,GAAMyF,mBAGW,IAAIoK,EAAAA,GAAQ/Z,SAASC,cAAc,0BAC3C+Z,iBAAkB,EAC/B,IAAM+B,EAAmB,IAAIC,EAAAA,GAAYhc,SAASC,cAAc,wBAC1Dgc,EAAsB,IAAID,EAAAA,GAAYhc,SAASC,cAAc,kCAEnE8b,EAAiB7I,SAAU,EAC3B+I,EAAoB/I,QAAUtL,EAAOzG,MAErC+I,GAAMqP,SAASwC,EAAiB7I,SAChChJ,GAAMsP,aAAY,GAElBtP,GAAMmP,uBAAuB4C,EAAoB/I,SAGjD6I,EAAiB3B,OAAO,UAAU,SAAArS,GAC9BmC,GAAMqP,SAASxR,EAAMkK,OAAOiB,YAGhC+I,EAAoB7B,OAAO,UAAU,SAAArS,GACjCmC,GAAMmP,uBAAuBtR,EAAMkK,OAAOiB,YAI9C,IAAMgJ,EAAqBlc,SAASC,cAAc,iBAC5Ckc,EAASnc,SAASC,cAAc,WAChCmc,EAAcpc,SAASC,cAAc,SACrCoc,EAAMH,EAAmBI,wBAEzBC,EAAWL,EAAmBM,YAAc,EAAKH,EAAI1G,KACrD8G,EAAWP,EAAmBQ,aAAe,EAAKL,EAAIzY,IAEtD+Y,EAAO,IAAIC,KACXC,EAAc,CAAEjT,MAAO+S,EAAKG,WAAYjT,QAAS8S,EAAKI,cACtDC,EAAerR,GAAkBkR,GAEjCI,EAAoB,SAAAzT,GACtBrJ,EAAAA,GAAAA,GAAQgc,EAAQ,CACZzH,SAAUlL,EAAM0T,QAAQ,GACxB3c,SAAU,EACV4c,SAAU,WACN,IAAMC,EAAkB/T,KAAKoO,MAAMtX,EAAAA,GAAAA,YAAiBgc,EAAQ,aACtDvV,EAAO+E,GAAkByR,GAE/BzR,GAAc,CAAE/E,KAAMA,EAAM8N,SAAU0I,IACtClT,GAAMsO,iBAEN4D,EAAYhJ,YAAczH,GAAiB/E,GAC3CuV,EAAOhV,MAAMkW,YAAYzV,EAAO1C,WAAWC,OAAQyC,EAAO1C,WAAWE,cAEzEwM,WAAY,WACRuK,EAAOhV,MAAMkW,YAAYzV,EAAO1C,WAAWC,OAAQyC,EAAO1C,WAAWG,mBAMjFsG,GAAc,CAAE/E,KAAMiW,EAAanI,SAAUsI,IAC7C9S,GAAMsO,iBACN7M,GAAwBqR,GAExB7c,EAAAA,GAAAA,GAAQgc,EAAQ,CACZzH,SAAU/I,KAA0BuR,QAAQ,KAGhDd,EAAYhJ,YAAczH,GAAiBkR,GAC3CV,EAAOhV,MAAMkW,YAAYzV,EAAO1C,WAAWC,OAAQyC,EAAO1C,WAAWG,eAErE/D,OAAOuQ,iBAAiB,WAAU,WAC9BlG,IAAkB,GAClB3L,SAAS0I,KAAKvB,MAAMsI,OAAS,UAEjC0M,EAAOtK,iBAAiB,aAAY,WAChClG,IAAkB,GAClB3L,SAAS0I,KAAKvB,MAAMsI,OAAS,cAEjCnO,OAAOuQ,iBAAiB,aAAY,SAAA9J,GAChC,GAAI4D,KAAqB,CACrB,IAAM2R,EAAOvV,EAAMwV,MACbC,EAAOzV,EAAM0V,MAEbC,EAASnB,EAAUe,EACnBK,EAASlB,EAAUe,EAKnBI,GAFgBvU,KAAKwU,MAAMF,EAAQD,IAAW,IAAMrU,KAAK+L,IAAM,GAEnC,KAAO,IAEnC0I,EAAanS,KAGboS,EAAcpS,GAAgBmS,EAAYF,EAAU,KAE1DX,EAAkBc,GAGlBpS,GAAwBoS,OAGhC3B,EAAYvK,iBAAiB,SAAQ,WAEjC,IAAMkM,EAA4D,IAA9C1U,KAAKK,MAAMiC,KAA4B,KAAaqR,EAExEC,EAAkBc,GAClBpS,GAAwBoS,MAQhCC,GAvKoB,SAACC,GAAmC,IAAxBC,EAAwB,wDACpDle,SAASkb,iBAAiB+C,GAAWvN,SAAQ,SAAApI,GACzC,IAAM6V,EAAS,IAAIC,EAAAA,GAAU9V,GAE7B,OADA6V,EAAOE,UAAYH,EACZC,KAoKfG,CAAY,0CAQZ1G,QAAQC,IAAR,oBANc,aAMd,eALe,iDAKf,eAJmB,iCAInB,eAHa,+CAGb,mBAFkB,eAElB,MAQG,mBCxQC0G,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqB3L,IAAjB4L,EACH,OAAOA,EAAaC,QAGrB,IAAIC,EAASL,EAAyBE,GAAY,CAGjDE,QAAS,IAOV,OAHAE,EAAoBJ,GAAUG,EAAQA,EAAOD,QAASH,GAG/CI,EAAOD,QAIfH,EAAoB7U,EAAIkV,ElBzBpBhf,EAAW,GACf2e,EAAoBM,EAAI,CAACC,EAAQC,EAAUC,EAAIC,KAC9C,IAAGF,EAAH,CAMA,IAAIG,EAAe5J,EAAAA,EACnB,IAASnE,EAAI,EAAGA,EAAIvR,EAASgM,OAAQuF,IAAK,CAGzC,IAFA,IAAK4N,EAAUC,EAAIC,GAAYrf,EAASuR,GACpCgO,GAAY,EACPC,EAAI,EAAGA,EAAIL,EAASnT,OAAQwT,MACpB,EAAXH,GAAsBC,GAAgBD,IAAa1O,OAAOiJ,KAAK+E,EAAoBM,GAAGQ,OAAOpL,GAASsK,EAAoBM,EAAE5K,GAAK8K,EAASK,MAC9IL,EAASO,OAAOF,IAAK,IAErBD,GAAY,EACTF,EAAWC,IAAcA,EAAeD,IAG7C,GAAGE,EAAW,CACbvf,EAAS0f,OAAOnO,IAAK,GACrB,IAAIoO,EAAIP,SACEnM,IAAN0M,IAAiBT,EAASS,IAGhC,OAAOT,EAvBNG,EAAWA,GAAY,EACvB,IAAI,IAAI9N,EAAIvR,EAASgM,OAAQuF,EAAI,GAAKvR,EAASuR,EAAI,GAAG,GAAK8N,EAAU9N,IAAKvR,EAASuR,GAAKvR,EAASuR,EAAI,GACrGvR,EAASuR,GAAK,CAAC4N,EAAUC,EAAIC,ImBJ/BV,EAAoBiB,EAAI,CAACd,EAASe,KACjC,IAAI,IAAIxL,KAAOwL,EACXlB,EAAoBmB,EAAED,EAAYxL,KAASsK,EAAoBmB,EAAEhB,EAASzK,IAC5E1D,OAAOoP,eAAejB,EAASzK,EAAK,CAAE2L,YAAY,EAAMC,IAAKJ,EAAWxL,MCJ3EsK,EAAoBuB,EAAI,WACvB,GAA0B,iBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAOC,MAAQ,IAAIC,SAAS,cAAb,GACd,MAAOC,GACR,GAAsB,iBAAX7e,OAAqB,OAAOA,QALjB,GCAxBkd,EAAoBmB,EAAI,CAACS,EAAKC,IAAU7P,OAAO8P,UAAUC,eAAeC,KAAKJ,EAAKC,GCAlF7B,EAAoBiC,EAAI,I,MCKxB,IAAIC,EAAkB,CACrB,IAAK,GAaNlC,EAAoBM,EAAEO,EAAKsB,GAA0C,IAA7BD,EAAgBC,GAGxD,IAAIC,EAAuB,CAACC,EAA4BC,KACvD,IAGIrC,EAAUkC,GAHT3B,EAAU+B,EAAaC,GAAWF,EAGhB1P,EAAI,EAC3B,GAAG4N,EAASiC,MAAMjgB,GAAgC,IAAxB0f,EAAgB1f,KAAa,CACtD,IAAIyd,KAAYsC,EACZvC,EAAoBmB,EAAEoB,EAAatC,KACrCD,EAAoB7U,EAAE8U,GAAYsC,EAAYtC,IAGhD,GAAGuC,EAAS,IAAIjC,EAASiC,EAAQxC,GAGlC,IADGqC,GAA4BA,EAA2BC,GACrD1P,EAAI4N,EAASnT,OAAQuF,IACzBuP,EAAU3B,EAAS5N,GAChBoN,EAAoBmB,EAAEe,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAOnC,EAAoBM,EAAEC,IAG1BmC,EAAqBC,KAAiC,2BAAIA,KAAiC,4BAAK,GACpGD,EAAmBxQ,QAAQkQ,EAAqBQ,KAAK,KAAM,IAC3DF,EAAmBG,KAAOT,EAAqBQ,KAAK,KAAMF,EAAmBG,KAAKD,KAAKF,K,GC7CvF,IAAII,EAAsB9C,EAAoBM,OAAEhM,EAAW,CAAC,IAAI,KAAK,IAAO0L,EAAoB,QAChG8C,EAAsB9C,EAAoBM,EAAEwC,I","sources":["webpack://home-simulator/webpack/runtime/chunk loaded","webpack://home-simulator/./src/js/Categories.js","webpack://home-simulator/./src/assets/img/tv.jpg","webpack://home-simulator/./src/assets/img/tv_cabinet.jpg","webpack://home-simulator/./src/assets/img/couch.jpg","webpack://home-simulator/./src/assets/img/table.jpg","webpack://home-simulator/./src/assets/img/kitchen.jpg","webpack://home-simulator/./src/assets/img/stairs.jpeg","webpack://home-simulator/./src/assets/img/bed.jpg","webpack://home-simulator/./src/assets/img/placeholder.jpg","webpack://home-simulator/./src/js/data/Config.js","webpack://home-simulator/./src/js/utils/Utils.js","webpack://home-simulator/./src/assets/house.glb","webpack://home-simulator/./src/js/Scene.js","webpack://home-simulator/./src/js/Cards.js","webpack://home-simulator/./src/js/Levels.js","webpack://home-simulator/./src/js/Controls.js","webpack://home-simulator/./src/js/index.js","webpack://home-simulator/webpack/bootstrap","webpack://home-simulator/webpack/runtime/define property getters","webpack://home-simulator/webpack/runtime/global","webpack://home-simulator/webpack/runtime/hasOwnProperty shorthand","webpack://home-simulator/webpack/runtime/publicPath","webpack://home-simulator/webpack/runtime/jsonp chunk loading","webpack://home-simulator/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","import { gsap, ScrollToPlugin } from 'gsap/all';\r\nimport { MDCDrawer } from '@material/drawer';\r\n\r\nconst drawer = MDCDrawer.attachTo(document.querySelector('.mdc-drawer'));\r\nconst drawerContainer = document.querySelector('.mdc-drawer__content');\r\n\r\ngsap.registerPlugin(ScrollToPlugin);\r\n\r\nconst createCategoryButton = (categoryName, iconName, index) => {\r\n    return `<li id=${ categoryName + '-' + index }  \r\n                class='mdc-deprecated-list-item'\r\n                aria-label=${ categoryName }\r\n                role='option' \r\n                >\r\n                <span class='mdc-deprecated-list-item__graphic material-icons' aria-hidden='true'>${ iconName }</span>\r\n                <span class='mdc-deprecated-list-item__text'>${ categoryName.replace('_', ' ') }</span>\r\n            </li>`;\r\n};\r\n\r\nconst getDrawerState = () => { return drawer.open; };\r\nconst setDrawerState = open => { drawer.open = open; };\r\n\r\nconst scrollTo = id => {\r\n    const offset = document.getElementById(id).offsetTop;\r\n    animateContainer(offset);\r\n};\r\n\r\nconst animateContainer = offset => {\r\n    gsap.to(drawerContainer, {\r\n        duration: 1,\r\n        delay: 0.2,\r\n        ease: 'power4.inOut',\r\n        scrollTo: offset - 12,\r\n    });\r\n};\r\n\r\nexport default {\r\n    createCategoryButton,\r\n    getDrawerState,\r\n    setDrawerState,\r\n    scrollTo,\r\n    // getScrolling,\r\n};\r\n\r\n","export default __webpack_public_path__ + \"assets/img/1885b216ec4a69a0aef0be569b531190.jpg\";","export default __webpack_public_path__ + \"assets/img/b55cc265036032569394f5b24f6b02c3.jpg\";","export default __webpack_public_path__ + \"assets/img/d010c8a1ef302928f1d5fee02a49e1ea.jpg\";","export default __webpack_public_path__ + \"assets/img/14030e84b4fcb89119075e241d129cfd.jpg\";","export default __webpack_public_path__ + \"assets/img/a910fd215ad7d2e7287ec4b557294d26.jpg\";","export default __webpack_public_path__ + \"assets/img/2e44d503d9cedb29cd553e92b5b4b365.jpeg\";","export default __webpack_public_path__ + \"assets/img/10b6761296769ecfb5233a646a2e7693.jpg\";","export default __webpack_public_path__ + \"assets/img/8b32a51a68f8324996170b3034479a69.jpg\";","import tv from '../../assets/img/tv.jpg';\r\nimport tvCabinet from '../../assets/img/tv_cabinet.jpg';\r\nimport couch from '../../assets/img/couch.jpg';\r\nimport table from '../../assets/img/table.jpg';\r\nimport kitchen from '../../assets/img/kitchen.jpg';\r\nimport stairs from '../../assets/img/stairs.jpeg';\r\nimport bed from '../../assets/img/bed.jpg';\r\nimport placeholder from '../../assets/img/placeholder.jpg';\r\n\r\n/* For debugging */\r\nconst WEBPACK_MODE = process.env.NODE_ENV;\r\nconst isDev = WEBPACK_MODE !== 'production';\r\nconst isMobile = window.screen.width <= 900;\r\n\r\nconst levels = [\r\n    'Basement',\r\n    'Ground floor',\r\n    'Upper floor',\r\n    'House'\r\n];\r\n\r\nconst controls = [\r\n    'reset',\r\n    'front',\r\n    'top',\r\n    'back'\r\n];\r\n\r\n// TODO: set correct camera & blur values\r\nconst contents = {\r\n    Living_Room: {\r\n        icon: 'local_cafe',\r\n        content: [\r\n            {\r\n                id      : 1,\r\n                name    : 'S_Living_Room_1_-_Sofa',\r\n                title   : 'Couch',\r\n                subtitle: 'Meubella',\r\n                text    : '',\r\n                image   : couch,\r\n                icon    : 'weekend',\r\n                url     : 'https://www.meubella.nl/hoekbank-nicoreta-zwart-rechts-10523.html',\r\n                camera  : {\r\n                    // Position of object is already retrieved from the model, but this\r\n                    // allows for tweaking the camera for every object individually\r\n                    position_offset: { x:0, y:0, z:0 },\r\n                    zoom    : 0,\r\n                    blur    : { focus: 0, aperture: 10 },\r\n                }\r\n            },\r\n            {\r\n                id      : 2,\r\n                name    : 'S_Living_Room_2_-_TV',\r\n                title   : 'TV',\r\n                subtitle: 'Pinterest',\r\n                text    : 'Cable management inspiration.',\r\n                image   : tv,\r\n                icon    : 'tv',\r\n                url     : 'https://nl.pinterest.com/pin/313492824044646031/',\r\n                camera  : {\r\n                    position_offset: { x:0, y:0, z:0 },\r\n                    zoom    : 0,\r\n                    blur    : { focus: 27, aperture: 0.003 },\r\n                }\r\n            },\r\n            {\r\n                id      : 3,\r\n                name    : 'S_Living_Room_3_-_TV_Cabinet',\r\n                title   : 'TV Cabinet',\r\n                subtitle: 'Meubella',\r\n                text    : '',\r\n                image   : tvCabinet,\r\n                icon    : 'search',\r\n                url     : 'https://www.meubella.nl/tv-meubel-flame-wit-320-cm.html',\r\n                camera  : {\r\n                    position_offset: { x:0, y:0, z:0 },\r\n                    zoom    : 0,\r\n                    blur    : { focus: 0, aperture: 10 },\r\n                }\r\n            },\r\n            {\r\n                id      : 4,\r\n                name    : 'S_Living_Room_4_-_Stairs',\r\n                title   : 'Floating Staircase',\r\n                subtitle: 'Guido Ciompi',\r\n                text    : 'Great design, maybe a bit dangerous.',\r\n                image   : stairs,\r\n                icon    : 'search',\r\n                url     : 'https://inspirationfeed.com/20-innovative-staircase-designs/',\r\n                camera  : {\r\n                    position_offset: { x:0, y:0, z:0 },\r\n                    zoom    : 0,\r\n                    blur    : { focus: 0, aperture: 10 },\r\n                }\r\n            }\r\n        ]\r\n    },\r\n    Kitchen: {\r\n        icon: 'kitchen',\r\n        content:  [\r\n            {\r\n                id      : 1,\r\n                name    : 'S_Kitchen_1_-_Kitchen_Block',\r\n                title   : 'Lorem ipsum',\r\n                subtitle: 'Snaidero & Pininfarina',\r\n                text    : 'Design on point ðŸ‘Œ.',\r\n                image   : kitchen,\r\n                icon    : 'kitchen',\r\n                url     : 'https://example.com/',\r\n                camera  : {\r\n                    position_offset: { x:0, y:0, z:0 },\r\n                    zoom    : 0,\r\n                    blur    : { focus: 0, aperture: 10 },\r\n                }\r\n            },\r\n            {\r\n                id      : 2,\r\n                name    : 'S_Kitchen_2_-_Dining_Table',\r\n                title   : 'Dining Table',\r\n                subtitle: 'YouTube',\r\n                text    : '',\r\n                image   : table,\r\n                icon    : 'restaurant',\r\n                url     : 'https://www.wharfside.co.uk/dining-furniture/detail/modern-designer-dining-tables-dm7700',\r\n                camera  : {\r\n                    position_offset: { x:15, y:15, z:15 },\r\n                    zoom    : 0,\r\n                    blur    : { focus: 27, aperture: 0.003 },\r\n                }\r\n            }\r\n        ],\r\n    },\r\n    Bedroom: {\r\n        icon: 'hotel',\r\n        content: [\r\n            {\r\n                id      : 1,\r\n                name    : 'S_Default_2_-_Bed_Bedroom',\r\n                title   : 'Bed Master Bedroom',\r\n                subtitle: 'Swiss Sense',\r\n                text    : 'A bed like this would be epic.',\r\n                image   : bed,\r\n                icon    : 'king_bed',\r\n                url     : 'https://www.retailing.nl/blog/interview-joey-janssen-swiss-sense/',\r\n                camera  : {\r\n                    position_offset: { x:0, y:0, z:0 },\r\n                    zoom    : 0,\r\n                    blur    : { focus: 0, aperture: 10 },\r\n                }\r\n            },\r\n            {\r\n                id      : 2,\r\n                name    : 'S_Kitchen_2_-_TV',\r\n                title   : 'Dining Table',\r\n                subtitle: 'YouTube',\r\n                text    : 'Lorem ipsum',\r\n                image   : placeholder,\r\n                icon    : 'restaurant',\r\n                url     : 'https://example.com/',\r\n                camera  : {\r\n                    position_offset: { x:0, y:0, z:0 },\r\n                    zoom    : 0,\r\n                    blur    : { focus: 0, aperture: 10 },\r\n                }\r\n            }\r\n        ]\r\n    },\r\n    Study: {\r\n        icon: 'book',\r\n        content: [\r\n            {\r\n                id      : 1,\r\n                name    : 'S_Default_1_-_Bed_Master_Bedroom',\r\n                title   : 'Bed Master Bedroom',\r\n                subtitle: 'Swiss Sense',\r\n                text    : 'A bed like this would be epic.',\r\n                image   : bed,\r\n                icon    : 'king_bed',\r\n                url     : 'https://www.retailing.nl/blog/interview-joey-janssen-swiss-sense/',\r\n                camera  : {\r\n                    position_offset: { x:0, y:0, z:0 },\r\n                    zoom    : 0,\r\n                    blur    : { focus: 0, aperture: 10 },\r\n                }\r\n            }\r\n        ]\r\n    },\r\n    Miscellaneous: {\r\n        icon: 'category',\r\n        content: [\r\n            {\r\n                id      : 1,\r\n                name    : 'S_Miscellaneous_1_-_Bed_Master_Bedroom',\r\n                title   : 'Bed Master Bedroom',\r\n                subtitle: 'Swiss Sense',\r\n                text    : 'Lorem ipsum',\r\n                image   : placeholder,\r\n                icon    : 'king_bed',\r\n                url     : 'https://example.com/',\r\n                camera  : {\r\n                    position_offset: { x:0, y:0, z:0 },\r\n                    zoom    : 0,\r\n                    blur    : { focus: 0, aperture: 10 },\r\n                }\r\n            },\r\n        ]\r\n    },\r\n};\r\n\r\nconst cameraViews = {\r\n    front: { x: 0, y: 150, z: 300 },\r\n    top: { x: 0, y: 300, z: 1 },\r\n    back: { x: 0, y: 150, z: -300 },\r\n}\r\n\r\nconst outlinePassParameters = {\r\n    edgeStrength: 3,\r\n    edgeGlow: 0.0,\r\n    edgeThickness: 1,\r\n    pulsePeriod: 0,\r\n    rotate: false,\r\n    usePatternTexture: false,\r\n};\r\n\r\nconst saoParameters = {\r\n    output: 0,\r\n    saoBias: 1,\r\n    saoIntensity: 0.01,\r\n    saoScale: 10,\r\n    saoKernelRadius: 75,\r\n    saoMinResolution: 0,\r\n    saoBlur: true,\r\n    saoBlurRadius: 4,\r\n    saoBlurStdDev: 7,\r\n    saoBlurDepthCutoff: 0.0008\r\n};\r\n\r\nconst bokehParameters = {\r\n    focus: 0,\r\n    aperture: 0,\r\n    maxblur: 0.01\r\n};\r\n\r\nconst timeHandle = {\r\n    cssVar: '--time-bg-color',\r\n    activeColor: '#f15b27',\r\n    inActiveColor: '#6691fa',\r\n};\r\n\r\nexport default {\r\n    isDev,\r\n    isMobile,\r\n    levels,\r\n    controls,\r\n    contents,\r\n    cameraViews,\r\n    outlinePassParameters,\r\n    saoParameters,\r\n    bokehParameters,\r\n    timeHandle,\r\n};\r\n","import { Vector2 } from 'three';\r\nimport { SAOPass } from 'three/examples/jsm/postprocessing/SAOPass';\r\nimport { GUI } from 'three/examples/jsm/libs/lil-gui.module.min.js';\r\nimport { CSS3DObject } from 'three/examples/jsm/renderers/CSS3DRenderer';\r\n\r\n/* Local import */\r\nimport Config from '../data/Config';\r\n\r\nlet SELECTABLE,         // If an object is clickable\r\n    SHOW,               // Performance monitor visibility\r\n    isAnimating,        // Whether camera is animating\r\n    isDragging,         // Whether time handle is being dragged\r\n    isFocus = false;    // Whether an object has been clicked\r\nlet INTERSECTED,        // If an object is intersected\r\n    SELECTED,           // If an object is clicked\r\n    TIME,               // Current time status (controls lights, light direction, background color, etc.), i.e. time and rotation.\r\n    TIME_ANGLE,         // Last recorded time angle. Different from angle in the TIME object, since this is a value that is only set when the time handle animation has finished.\r\n    SAO,\r\n    BOKEH = null;\r\n\r\nconst removeLoadingScreen = () => {\r\n    const loadingScreen = document.querySelector('#loading-screen');\r\n\r\n    if (loadingScreen.classList) {\r\n        loadingScreen.classList.add('hidden');\r\n    } else {\r\n        loadingScreen.className += ' hidden';\r\n    }\r\n};\r\n\r\nconst getAnimating = () => { return isAnimating; };\r\nconst setAnimating = bool => { isAnimating = bool; };\r\n\r\nconst getFocus = () => { return isFocus; };\r\nconst setFocus = bool => { isFocus = bool; };\r\n\r\nconst getIntersected = () => { return INTERSECTED; };\r\nconst setIntersected = object => { INTERSECTED = object; };\r\n\r\nconst getSelectable = () => { return SELECTABLE; };\r\nconst setSelectable = bool => { SELECTABLE = bool; };\r\n\r\nconst getSelectedObject = () => { return SELECTED; };\r\nconst setSelectedObject = object => { SELECTED = object; };\r\n\r\nconst getPerformanceMonitor = () => { return SHOW; };\r\nconst setPerformanceMonitor = bool => { SHOW = bool; };\r\n\r\nconst getSaoPass = () => { return SAO; };\r\nconst setSaoPass = pass => { SAO = pass; };\r\n\r\nconst getBokehPass = () => { return BOKEH; };\r\nconst setBokehPass = pass => { BOKEH = pass; };\r\n\r\nconst getTime = () => { return TIME; };\r\nconst setTime = time => { TIME = time; };\r\n\r\nconst getFinalTimeAngle = () => { return TIME_ANGLE; };\r\nconst setFinalTimeAngle = timeAngle => { TIME_ANGLE = timeAngle; };\r\n\r\nconst getDragging = () => { return isDragging; };\r\nconst setDragging = bool => { isDragging = bool; };\r\n\r\nconst initThreeGUI = (saoPass, bokehPass) => {\r\n    const gui = new GUI();\r\n\r\n    gui.domElement.style.float = 'left';\r\n    gui.domElement.style.marginRight = '0';\r\n    gui.domElement.style.marginLeft = '80px';\r\n\r\n    gui.add(saoPass.params, 'output', {\r\n        'Beauty'    : SAOPass.OUTPUT.Beauty,\r\n        'Beauty+SAO': SAOPass.OUTPUT.Default,\r\n        'SAO'       : SAOPass.OUTPUT.SAO,\r\n        'Depth'     : SAOPass.OUTPUT.Depth,\r\n        'Normal'    : SAOPass.OUTPUT.Normal\r\n    }).onChange(value => {\r\n        saoPass.params.output = parseInt(value);\r\n    });\r\n    gui.add(Config.bokehParameters, 'focus', 0, 50, 1).onChange(value => {\r\n        bokehPass.uniforms['focus'].value = value;\r\n    });\r\n    gui.add(Config.bokehParameters, 'aperture', 0, 10, 0.1).onChange(value => {\r\n        bokehPass.uniforms['aperture'].value = value * 0.001;\r\n    });\r\n    gui.add(Config.bokehParameters, 'maxblur', 0, 0.01, 0.001).onChange(value => {\r\n        bokehPass.uniforms['maxblur'].value = value;\r\n    });\r\n    gui.close(true);\r\n    gui.add(saoPass.params, 'saoBias', -1, 1);\r\n    gui.add(saoPass.params, 'saoIntensity', 0, 1);\r\n    gui.add(saoPass.params, 'saoScale', 0, 10);\r\n    gui.add(saoPass.params, 'saoKernelRadius', 1, 100);\r\n    gui.add(saoPass.params, 'saoMinResolution', 0, 1);\r\n    gui.add(saoPass.params, 'saoBlur');\r\n    gui.add(saoPass.params, 'saoBlurRadius', 0, 200);\r\n    gui.add(saoPass.params, 'saoBlurStdDev', 0.5, 150);\r\n    gui.add(saoPass.params, 'saoBlurDepthCutoff', 0.0, 0.1);\r\n};\r\n\r\nconst getMouseObject = event => {\r\n    const mouse = new Vector2();\r\n\r\n    // Calculate mouse position in normalized device coordinates\r\n    // (-1 to +1) for both components\r\n    mouse.x = (event.clientX / window.innerWidth) * 2 - 1;\r\n    mouse.y = - (event.clientY / window.innerHeight) * 2 + 1;\r\n\r\n    return mouse;\r\n};\r\n\r\nconst createLabel = () => {\r\n    // HTML\r\n    const element = document.createElement('div');\r\n\r\n    element.className = 'label-card';\r\n    element.style.opacity = Config.isDev ? '10%' : '0';\r\n    element.innerHTML = `\r\n        <div class='mdc-card'>\r\n            <div id='label-image' class='mdc-card__media mdc-card__media--square'></div>\r\n                <div class='mdc-card__primary'>\r\n                    <h2 id='label-title' class='mdc-card__title mdc-typography--headline6'></h2>\r\n                    <h3 id='label-subtitle' class='mdc-card__subtitle mdc-typography--subtitle2'></h3>\r\n                    <div class='mdc-card__secondary mdc-typography--body2'>Click object for more info</div>\r\n                </div>\r\n        </div>\r\n    `;\r\n    // <div id='label-image' class='mdc-card__media mdc-card__media--square' style='background-image: url(${ require('../assets/img/placeholder.jpg') });'></div>\r\n    document.body.appendChild(element);\r\n\r\n    // CSS Object\r\n    const object = new CSS3DObject(element);\r\n    object.position.set(0, 0, 0);\r\n    object.userData = { set: false };\r\n    // element.style.height = '700px';\r\n\r\n    return {\r\n        element: element,\r\n        object: object\r\n    };\r\n};\r\n\r\n/*const getCurrentTimeStatus = () => {\r\n    const hour = new Date().getHours();\r\n\r\n    if (Config.times.DAY.startHour < hour && hour < Config.times.DAY.endHour ) {\r\n        return { time: 'DAY', hour };\r\n    } else if (Config.times.NIGHT.startHour < hour && hour < Config.times.NIGHT.endHour ) {\r\n        return { time: 'NIGHT', hour };\r\n    } else {\r\n        return { time: 'TWILIGHT', hour };\r\n    }\r\n}*/\r\n\r\nconst setNightThemeUI = bool => {\r\n    if (document.querySelector('#levels > .mdc-form-field')) {\r\n        if (bool) {\r\n            document.querySelector('#levels > .mdc-form-field').classList.add('night-theme-levels');\r\n        } else {\r\n            document.querySelector('#levels > .mdc-form-field').classList.remove('night-theme-levels');\r\n        }\r\n    }\r\n\r\n    if (document.querySelector('#controls > .mdc-list')) {\r\n        if (bool) {\r\n            document.querySelector('#controls > .mdc-list').classList.add('night-theme-controls-button');\r\n        } else {\r\n            document.querySelector('#controls > .mdc-list').classList.remove('night-theme-controls-button');\r\n        }\r\n    }\r\n\r\n    if (bool) {\r\n        document.querySelector('.controls-container').classList.add('night-theme-controls');\r\n    } else {\r\n        document.querySelector('.controls-container').classList.remove('night-theme-controls');\r\n        document.querySelector('.controls-container').classList.add('day-theme-controls');\r\n    }\r\n};\r\n\r\nconst shortestAngleDistance = (start, end) => {\r\n    // From https://stackoverflow.com/questions/2708476/rotation-interpolation\r\n    // And https://gamedev.stackexchange.com/questions/46552/360-degree-rotation-skips-back-to-0-degrees-when-using-math-atan2y-x\r\n    const shortestAngle = ((((end - start) % 360) + 540) % 360) - 180;\r\n    // Cap rotational 'speed' with a max angle difference\r\n    return Math.min(7, shortestAngle);\r\n}\r\nconst lerpAngle = (start, end, alpha) => start + alpha * shortestAngleDistance(start, end);\r\n\r\nconst angleToTime = angle => {\r\n    // Map from angles to time\r\n    const h = Math.floor((angle % 720) * (1 / 30));\r\n    const m = (angle % 30) * 2;\r\n    // Correct negative numbers\r\n    const hours = h < 0 ? 24 + h : h;\r\n    const minutes = m < 0 ? 60 + m : m;\r\n    return { hours, minutes };\r\n}\r\n\r\nconst timeToAngle = ({ hours, minutes }) => (hours % 24) * 30 + (minutes * 0.5);\r\n\r\nconst formatTime = ({ hours, minutes }) => {\r\n    // Pad zeros to single digits\r\n    const h = padSingleDigit(hours);\r\n    const m = padSingleDigit(minutes);\r\n    return `${ h }:${ m }`;\r\n};\r\nconst padSingleDigit = n => n < 10 ? n.toString().padStart(2, '0') : n;\r\n\r\nexport default {\r\n    removeLoadingScreen,\r\n    getAnimating,\r\n    setAnimating,\r\n    getFocus,\r\n    setFocus,\r\n    getIntersected,\r\n    setIntersected,\r\n    getSelectable,\r\n    setSelectable,\r\n    getSelectedObject,\r\n    setSelectedObject,\r\n    getPerformanceMonitor,\r\n    setPerformanceMonitor,\r\n    getSaoPass,\r\n    setSaoPass,\r\n    getBokehPass,\r\n    setBokehPass,\r\n    getTime,\r\n    setTime,\r\n    getFinalTimeAngle,\r\n    setFinalTimeAngle,\r\n    getDragging,\r\n    setDragging,\r\n    initThreeGUI,\r\n    getMouseObject,\r\n    createLabel,\r\n    setNightThemeUI,\r\n    lerpAngle,\r\n    angleToTime,\r\n    timeToAngle,\r\n    formatTime,\r\n    padSingleDigit,\r\n};\r\n","export default __webpack_public_path__ + \"assets/1d9810ea4a7e326107025f4f19ac9855.glb\";","import {\r\n    Scene,\r\n    Vector2,\r\n    Group,\r\n    Object3D,\r\n    Color,\r\n    Mesh,\r\n    WebGLRenderer,\r\n    MOUSE,\r\n    PerspectiveCamera,\r\n    AmbientLight, DirectionalLight, HemisphereLight, PointLight,\r\n    CameraHelper, AxesHelper, HemisphereLightHelper, PointLightHelper,\r\n    Vector3,\r\n    Raycaster,\r\n    sRGBEncoding,\r\n    PlaneBufferGeometry,\r\n    MeshStandardMaterial,\r\n} from 'three';\r\n\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\r\nimport { DRACOLoader } from 'three/examples/jsm/loaders/DRACOLoader';\r\nimport { CSS3DRenderer } from 'three/examples/jsm/renderers/CSS3DRenderer';\r\n/* Postprocessing */\r\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer';\r\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass';\r\nimport { OutlinePass } from 'three/examples/jsm/postprocessing/OutlinePass';\r\nimport { ShaderPass } from 'three/examples/jsm/postprocessing/ShaderPass';\r\nimport { SAOPass } from 'three/examples/jsm/postprocessing/SAOPass';\r\nimport { BokehPass } from 'three/examples/jsm/postprocessing/BokehPass';\r\n/* Shaders */\r\nimport { FXAAShader } from 'three/examples/jsm/shaders/FXAAShader';\r\nimport { GammaCorrectionShader } from 'three/examples/jsm/shaders/GammaCorrectionShader';\r\n\r\nimport Stats from 'three/examples/jsm/libs/stats.module';\r\nimport WEBGL from 'three/examples/jsm/capabilities/WebGL';\r\nimport { gsap } from 'gsap/all';\r\n\r\n// Local import\r\nimport Categories from './Categories';\r\nimport Utils from './utils/Utils';\r\nimport modelName from '../assets/house.glb';\r\nimport Config from './data/Config.js';\r\n\r\n/* Three.js variables */\r\nconst container     = document.getElementById('container');\r\nconst renderer      = new WebGLRenderer(); // { canvas: canvasElement }\r\nconst scene         = new Scene();\r\nconst labelScene    = new Scene();\r\nconst labelRenderer = new CSS3DRenderer();\r\nconst raycaster     = new Raycaster();\r\nconst labelPivot    = new Object3D();\r\nconst meshGroup     = new Group();\r\nconst stats         = new Stats();\r\n\r\nconst screenWidth   = window.innerWidth;\r\nconst screenHeight  = window.innerHeight;\r\nconst aspect        = screenWidth / screenHeight;\r\n\r\nconst camera        = new PerspectiveCamera(\r\n    5,\r\n    aspect,\r\n    0.1,\r\n    1000\r\n);\r\nconst controls    = new OrbitControls(camera, labelRenderer.domElement);\r\nconst composer    = new EffectComposer(renderer);\r\nconst outlinePass = new OutlinePass(new Vector2(screenWidth, screenHeight), scene, camera);\r\nconst effectFXAA  = new ShaderPass(FXAAShader);\r\nconst label       = Utils.createLabel();\r\nconst nrOfLevels  = Config.levels.length;\r\n\r\nconst panViewDistance         = 200; // half of the <aside> element width\r\nconst labelScale              = 200;\r\nconst labelToCameraRatio      = 75;\r\nconst lookAtAnimationDuration = 1.5;\r\n\r\n/* Lights & colors */\r\nconst groundColor             = new Color(0x77f53d);\r\nconst dayLightColor           = new Color(0xbfe3dd);\r\nconst dayLightColorAmbient    = new Color(0x666666);\r\nconst dayLightColorHemiSky    = new Color(0x3284ff);\r\nconst dayLightColorHemiGround = new Color(0xffc87f);\r\nconst twilightColor           = new Color(0x571000);\r\nconst twilightColorHemiSky    = new Color(0xb82b00);\r\nconst twilightColorHemiGround = new Color(0xb82b00);\r\nconst nightLightColor         = new Color(0x000112);\r\nconst nightLightColorAmbient  = new Color(0xdefff9);\r\nconst nightLightColorHemiSky  = new Color(0x0d103d);\r\n\r\nconst directionalLight = new DirectionalLight(0xffffff);\r\nconst ambientLight     = new AmbientLight(0xffffff);\r\nconst hemisphereLight  = new HemisphereLight(0xffffff, 0xffffff, 0.3);\r\nconst pointLights      = {\r\n    'hallway': { object: new PointLight(0xfff1e0, 1, 5), position: new Vector3(-6, 5, 0) },\r\n    'kitchen': { object: new PointLight(0xffffff, 1, 5), position: new Vector3(-3, 5, -0.75) },\r\n    'kitchen_table': { object: new PointLight(0xffd6aa, 1, 10), position: new Vector3(0, 5, -0.75) },\r\n    'living_room': { object: new PointLight(0xfff1e0, 1, 5), position: new Vector3(3, 5, -0.75) },\r\n};\r\n\r\nconst init = () => {\r\n    const progressElement = document.getElementById('progress');\r\n\r\n    window.addEventListener('resize', resizeCanvas);\r\n    container.addEventListener('mousemove', onMouseMove);\r\n    container.addEventListener('click', onClick);\r\n\r\n    scene.background = new Color();\r\n\r\n    labelScene.add(label.object);\r\n    labelScene.scale.setScalar(1 / labelScale); // Scale down label size scene\r\n\r\n    renderer.setPixelRatio(window.devicePixelRatio);\r\n    renderer.setSize(screenWidth, screenHeight);\r\n    renderer.outputEncoding = sRGBEncoding; // See https://threejs.org/docs/#examples/en/loaders/GLTFLoader\r\n    renderer.shadowMap.enabled = true;\r\n    container.appendChild(renderer.domElement);\r\n\r\n    labelRenderer.setSize(screenWidth, screenHeight);\r\n    labelRenderer.domElement.style.position = 'absolute';\r\n    labelRenderer.domElement.style.top = '0px';\r\n    container.appendChild(labelRenderer.domElement);\r\n\r\n    camera.aspect = aspect;\r\n    /* Making the Euler angles make more sense\r\n    (from https://stackoverflow.com/questions/28569026/three-js-extract-rotation-in-radians-from-camera)\r\n    rotation.y will be the camera yaw in radians\r\n    rotation.x will be the camera pitch in radians\r\n    rotation.z will be the camera roll in radians\r\n     */\r\n    camera.rotation.order = 'YXZ';\r\n\r\n    controls.mouseButtons = { // This way orbiting does not interfere with selecting objects\r\n        LEFT: MOUSE.PAN,\r\n        MIDDLE: MOUSE.ROTATE, // TODO: fix touchpad gestures (that do not have a dedicated middle mouse button)\r\n        RIGHT: MOUSE.DOLLY\r\n    };\r\n    controls.enableDamping = true; // if enabled, you must call .update () in your animation loop\r\n    controls.dampingFactor = 0.25;\r\n    controls.maxPolarAngle = Config.isDev ? Math.PI : Math.PI / 2;\r\n    controls.minDistance   = Config.isDev ? 0 : 10;\r\n    controls.maxDistance   = Config.isDev ? Infinity : 500;\r\n\r\n    directionalLight.castShadow = true;\r\n    directionalLight.shadow.mapSize.width  = 2048;\r\n    directionalLight.shadow.mapSize.height = 2048;\r\n\r\n    const d = 10;\r\n    directionalLight.shadow.camera.left = -d;\r\n    directionalLight.shadow.camera.right = d;\r\n    directionalLight.shadow.camera.top = d;\r\n    directionalLight.shadow.camera.bottom = -d;\r\n\r\n    scene.add(directionalLight);\r\n    scene.add(ambientLight);\r\n\r\n    // Create a PointLight and turn on shadows for the light\r\n    for (const pointLight of Object.values(pointLights)) {\r\n        pointLight.object.castShadow = true;\r\n        pointLight.object.position.copy(pointLight.position);\r\n        scene.add(pointLight.object);\r\n    }\r\n\r\n    hemisphereLight.position.set(0, 35, 0);\r\n    scene.add(hemisphereLight);\r\n\r\n    // Ground plane\r\n    const geometry = new PlaneBufferGeometry(100, 100);\r\n    geometry.rotateX(-Math.PI / 2);\r\n    geometry.translate(0, -0.1, 0);\r\n    const material = new MeshStandardMaterial({ \r\n        color: groundColor, flatShading: true \r\n    });\r\n    const plane = new Mesh(geometry, material);\r\n    plane.receiveShadow = true;\r\n    scene.add(plane);\r\n\r\n    const loader = new GLTFLoader();\r\n    // Provide a DRACOLoader instance to decode compressed mesh data\r\n    const dracoLoader = new DRACOLoader();\r\n    dracoLoader.setDecoderPath('./assets/draco/');\r\n    loader.setDRACOLoader(dracoLoader);\r\n\r\n    loader.load(modelName, gltf => {\r\n        Utils.removeLoadingScreen();\r\n\r\n        const model = gltf.scene;\r\n\r\n        model.traverse(node => {\r\n            if (node instanceof Mesh) {\r\n                node.receiveShadow = true;\r\n                node.castShadow = true;\r\n                node.material.transparent = true;\r\n\r\n                const layer = parseInt(node.material.name.charAt(0));\r\n                node.layers.set(layer);\r\n\r\n                // Creating a bounding box with Box3 for tracking size of objects and camera zoom\r\n                // node.geometry.computeBoundingBox();\r\n                // let boundingBox = node.geometry.boundingBox.clone();\r\n            }\r\n        });\r\n        meshGroup.add(model); // Will create a group in a group, but it seems to work as well\r\n        scene.add(meshGroup);\r\n\r\n        // loader.dispose();\r\n\r\n        if (WEBGL.isWebGLAvailable()) {\r\n            start();\r\n        } else {\r\n            const warning = WEBGL.getWebGLErrorMessage();\r\n            container.appendChild(warning);\r\n        }\r\n    },\r\n    progress => {\r\n        const percentage = Math.round(progress.loaded / progress.total * 100);\r\n        progressElement.textContent = percentage.toString();\r\n\r\n        console.log('Model ' + percentage + '% loaded');\r\n    },\r\n    error => {\r\n        console.log('Error', error);\r\n    });\r\n\r\n    /* Set lights */\r\n    // updateSunLight(Utils.getCurrentTimeStatus());\r\n    /* Postprocessing */\r\n    initPostprocessing();\r\n    /* Performance monitor */\r\n    container.appendChild(stats.dom);\r\n\r\n    /* Init helpers */\r\n    if (Config.isDev) {\r\n        const dirLightCamHelper = new CameraHelper(directionalLight.shadow.camera);\r\n        scene.add(dirLightCamHelper);\r\n\r\n        const hemiSphereHelper = new HemisphereLightHelper(hemisphereLight, 2);\r\n        scene.add(hemiSphereHelper);\r\n\r\n        const axesHelper = new AxesHelper(3);\r\n        scene.add(axesHelper);\r\n\r\n        for (const pointLight of Object.values(pointLights)) {\r\n            const pointLightHelper = new PointLightHelper(pointLight.object, 0.5);\r\n            scene.add(pointLightHelper);\r\n        }\r\n    }\r\n};\r\n\r\nconst initPostprocessing = () => {\r\n    composer.setSize(screenWidth, screenHeight);\r\n\r\n    const renderPass = new RenderPass(scene, camera);\r\n    composer.addPass(renderPass);\r\n\r\n    outlinePass.params = Config.outlinePassParameters;\r\n    outlinePass.visibleEdgeColor.set('#ffffff');\r\n    outlinePass.hiddenEdgeColor.set('#190a05');\r\n    composer.addPass(outlinePass);\r\n\r\n    const saoPass = new SAOPass(scene, camera, false, true);\r\n    saoPass.params = Config.saoParameters;\r\n    Utils.setSaoPass(saoPass);\r\n    composer.addPass(saoPass);\r\n\r\n    effectFXAA.uniforms['resolution'].value.set(1 / screenWidth, 1 / screenHeight);\r\n    composer.addPass(effectFXAA);\r\n\r\n    const gammaCorrection = new ShaderPass(GammaCorrectionShader);\r\n    composer.addPass(gammaCorrection);\r\n\r\n    const bokehPass = new BokehPass(scene, camera, Config.bokehParameters);\r\n    Utils.setBokehPass(bokehPass);\r\n    composer.addPass(bokehPass);\r\n\r\n    Config.isDev && Utils.initThreeGUI(saoPass, bokehPass);\r\n};\r\n\r\n// Three.js functions setup based on https://github.com/dirkk0/threejs_daynight/blob/master/index.html\r\nconst start = () => {\r\n    animate();\r\n    resetCamera();\r\n};\r\n\r\nconst animate = () => {\r\n    requestAnimationFrame(animate);\r\n\r\n    // Config.isDev && updateSunLight(Utils.getTimeStatus());\r\n\r\n    if (label.object.userData.set) {\r\n        label.object.quaternion.set(0, 0, 0, 0);\r\n\r\n        labelPivot.quaternion.slerp(camera.quaternion, 0.08); // t is value between 0 and 1\r\n        // labelPivot.rotation.y = camera.rotation.y;\r\n\r\n        // Scale and position label when zooming in or out\r\n        const labelToCameraScale = objectPosition.distanceTo(camera.position) / labelToCameraRatio;\r\n        label.object.scale.setScalar(labelToCameraScale);\r\n        label.object.position.y = labelToCameraScale * 100 + 150;\r\n    }\r\n\r\n    // Required if controls.enableDamping or controls.autoRotate are set to true\r\n    controls.update();\r\n    controls.enabled = !Utils.getAnimating(); // temporarily disable controls when camera is animating\r\n\r\n    Utils.getPerformanceMonitor() && stats.begin();\r\n\r\n    composer.render();\r\n    labelRenderer.render(labelScene, camera);\r\n\r\n    Utils.getPerformanceMonitor() && stats.end();\r\n};\r\n\r\nconst resizeCanvas = () => {\r\n    // From https://github.com/mrdoob/three.js/blob/master/examples/webgl_postprocessing_outline.html\r\n    camera.aspect = screenWidth / screenHeight;\r\n\r\n    const width = window.innerWidth;\r\n    const height = window.innerHeight;\r\n\r\n    camera.aspect = width / height;\r\n    camera.updateProjectionMatrix();\r\n\r\n    renderer.setSize(width, height);\r\n    composer.setSize(width, height);\r\n    labelRenderer.setSize(width, height);\r\n\r\n    effectFXAA.uniforms['resolution'].value.set(1/width, 1/height);\r\n};\r\n\r\nconst getIntersects = (event, raycaster) => {\r\n    // Update the picking ray with the camera and mouse position\r\n    raycaster.setFromCamera(Utils.getMouseObject(event), camera);\r\n\r\n    // Calculate objects intersecting the picking ray\r\n    return raycaster.intersectObjects(scene.children, true);\r\n};\r\n\r\nconst onMouseMove = event => {\r\n    const intersects = getIntersects(event, raycaster);\r\n\r\n    if (intersects.length > 0) {\r\n        const hoveredObject = intersects[0].object;\r\n        Utils.setSelectable(hoveredObject.name.indexOf('S_') !== -1); // TODO: change check to clickedObject.name.charAt(0) === 'S' && clickedObject.name.charAt(1) === '_'\r\n\r\n        if (Utils.getSelectable()) {\r\n            hoverObject(hoveredObject);\r\n            outlinePass.selectedObjects = [hoveredObject];\r\n            document.body.style.cursor = 'pointer';\r\n        } else {\r\n            outlinePass.selectedObjects = [];\r\n            document.body.style.cursor = 'default';\r\n        }\r\n    }\r\n};\r\n\r\nconst onClick = event => {\r\n    const intersects = getIntersects(event, raycaster);\r\n\r\n    if (Utils.getFocus()) {\r\n        // If an object is in focus, and there is a click in the scene, we exit the object's focus\r\n        resetCamera();\r\n        resetSelected();\r\n    } else {\r\n        if (intersects.length > 0) {\r\n            // If an object can be selected, the name of the mesh will begin with an 'S_', so selectable will be true\r\n            Utils.setSelectable(intersects[0].object.name.indexOf('S_') !== -1);\r\n\r\n            if (Utils.getIntersected() !== intersects[0].object && Utils.getSelectable()) {\r\n                /*if (INTERSECTED) {\r\n                    INTERSECTED.material.color.setHex(INTERSECTED.currentHex);\r\n                }*/\r\n                Utils.setIntersected(intersects[0].object);\r\n                // INTERSECTED.currentHex = INTERSECTED.material.color.getHex();\r\n                // INTERSECTED.material.color.setHex(0xff0000);\r\n\r\n                selectObject(Utils.getIntersected());\r\n                removeLabel(label);\r\n                document.body.style.cursor = 'default';\r\n            } else { // Non-selectable object was clicked\r\n                resetSelected();\r\n            }\r\n        } else { // Background was clicked\r\n            resetSelected();\r\n        }\r\n    }\r\n};\r\n\r\n// TODO: rewrite function arguments\r\nconst changeLightColors = (transitionAlpha, colors) => {\r\n    scene.background.lerp(colors[0], Math.min(1, transitionAlpha));\r\n    ambientLight.color.lerp(colors[1], Math.min(1, transitionAlpha));\r\n    hemisphereLight.color.lerp(colors[2], Math.min(1, transitionAlpha));\r\n    hemisphereLight.groundColor.lerp(colors[3], Math.min(1, transitionAlpha));\r\n};\r\n\r\n// TODO: add moonlight effect as well\r\nconst dt = 0.01;\r\n// let hour = 12;\r\nlet dayAlpha = 1;\r\nlet twilightAlpha = 1;\r\nlet nightAlpha = 1;\r\n/* Simulate day- and nightlight\r\n Inspired by https://github.com/dirkk0/threejs_daynight */\r\nconst updateSunLight = () => {\r\n    /*if (Config.isDev) {\r\n        hour += dt;\r\n        if (hour > 24) {\r\n            hour = 0;\r\n        }\r\n    } else {\r\n        hour = new Date().getHours();\r\n    }\r\n    const timeToRadians = -Math.PI / 2 + hour * ((2 * Math.PI) / 24);*/\r\n\r\n    const { _, rotation } = Utils.getTime();\r\n    const rotationRadians = -Math.PI / 2 + rotation * (Math.PI / 180) * 0.5;\r\n\r\n    // Initial time (00:00) is a quarter turn counterclockwise\r\n    const radius = 50; // Distance between sun and model\r\n    const nSin = radius * Math.sin(rotationRadians);\r\n    const nCos = radius * Math.cos(rotationRadians);\r\n    const f = Math.max(0, nSin / 50); // Intensity from 0 to 1\r\n\r\n    directionalLight.position.set(nCos, nSin, nSin);\r\n    directionalLight.intensity = f;\r\n    ambientLight.intensity = f;\r\n\r\n    if (15 <= nSin) { // Day\r\n        twilightAlpha = 0;\r\n        nightAlpha = 0;\r\n        dayAlpha += dt * 0.1; // Color transition speed\r\n\r\n        changeLightColors(\r\n            dayAlpha,\r\n            [dayLightColor, dayLightColorAmbient, dayLightColorHemiSky, dayLightColorHemiGround]\r\n        );\r\n        setPointLights(false);\r\n        Utils.setNightThemeUI(false);\r\n    } else if (0 < nSin && nSin < 15) { // Twilight\r\n        dayAlpha = 0;\r\n        twilightAlpha += dt * 0.1;\r\n\r\n        changeLightColors(\r\n            twilightAlpha,\r\n            [twilightColor, twilightColor, twilightColorHemiSky, twilightColorHemiGround]\r\n        );\r\n        setPointLights(true);\r\n        Utils.setNightThemeUI(false);\r\n    } else { // Night\r\n        twilightAlpha = 0;\r\n        nightAlpha += dt * 0.1;\r\n\r\n        changeLightColors(\r\n            nightAlpha,\r\n            [nightLightColor, nightLightColorAmbient, nightLightColorHemiSky, nightLightColor]\r\n        );\r\n        setPointLights(true);\r\n        Utils.setNightThemeUI(true);\r\n    }\r\n};\r\n\r\nconst setPointLights = bool => {\r\n    Object.values(pointLights).forEach(light => {\r\n        light.object.intensity = bool ? 1 : 0;\r\n    });\r\n};\r\n\r\nconst selectFloor = floor => {\r\n    const setVisibility = (level, visibility) => {\r\n        if (visibility) {\r\n            camera.layers.enable(level);\r\n            raycaster.layers.enable(level);\r\n        } else {\r\n            camera.layers.disable(level);\r\n            raycaster.layers.disable(level);\r\n        }\r\n    };\r\n\r\n    for (let i = 1; i <= floor; i++) { setVisibility(i, true); }\r\n    for (let i = nrOfLevels; i > floor; i--) { setVisibility(i, false); }\r\n};\r\n\r\nconst animateCamera = (\r\n    targetPosition,\r\n    targetZoom = 1,\r\n    duration = 1.5,\r\n    easing= 'expo.inOut',\r\n    _openDrawer = false) => {\r\n    gsap.to(camera.position, {\r\n        duration: duration,\r\n        x: targetPosition.x,\r\n        y: targetPosition.y,\r\n        z: targetPosition.z,\r\n        ease: easing,\r\n        onStart: () => {\r\n            Utils.setAnimating(true);\r\n\r\n            container.removeEventListener('mousemove', onMouseMove);\r\n            container.removeEventListener('click', onClick);\r\n        },\r\n        onComplete: () => {\r\n            Utils.setAnimating(false);\r\n\r\n            container.addEventListener('mousemove', onMouseMove);\r\n            container.addEventListener('click', onClick);\r\n\r\n            if (_openDrawer) {\r\n                openDrawer();\r\n            }\r\n        }\r\n    });\r\n    gsap.to(camera, {\r\n        duration: duration,\r\n        zoom: targetZoom,\r\n        ease: \"expo.inOut\",\r\n        /*onUpdate: () => {\r\n            camera.updateProjectionMatrix();\r\n        },*/\r\n    });\r\n};\r\n\r\nconst animateLookAt = (lookAt, duration = lookAtAnimationDuration, easing = \"expo.inOut\") => {\r\n    gsap.to(controls.target, {\r\n        duration: duration,\r\n        x: lookAt.x,\r\n        y: lookAt.y,\r\n        z: lookAt.z,\r\n        ease: easing,\r\n        onStart: () => {\r\n            Utils.setAnimating(true);\r\n        },\r\n        onComplete: () => {\r\n            Utils.setAnimating(false);\r\n        }\r\n    });\r\n};\r\n\r\nconst hoverObject = object => {\r\n    const objectNameArray = object.userData.name.split(' ');\r\n    const category        = objectNameArray[1];\r\n    const id              = objectNameArray[2];\r\n\r\n    setLabel(label, object.position, object.geometry.boundingSphere.radius, category, id);\r\n};\r\n\r\nconst selectObject = object => {\r\n    const { userData, material, geometry, position } = object;\r\n    const objectNameArray = userData.name.split(' ');\r\n    const category        = objectNameArray[1];\r\n    const id              = objectNameArray[2];\r\n    // Abstract the level of selected object from its material name and use it to select the level\r\n    const level          = material.name.charAt(0);\r\n    const objectSize     = geometry.boundingSphere.radius;\r\n    const objectPosition = position;\r\n    const zoom           = 1;\r\n    const objectContent  = Config.contents[category].content.find(object => object.id === parseInt(id));\r\n\r\n    Utils.setSelectedObject(object);\r\n\r\n    animateCamera({\r\n        x: objectPosition.x + objectSize + objectContent.camera.position_offset.x,\r\n        y: objectPosition.y + objectSize + objectContent.camera.position_offset.y,\r\n        z: objectPosition.z + objectSize + objectContent.camera.position_offset.z,\r\n    }, zoom, undefined, undefined, true);\r\n\r\n    animateLookAt(objectPosition);\r\n\r\n    setTimeout(() => {\r\n        Categories.scrollTo(`${ category }-${ id }`);\r\n    }, lookAtAnimationDuration + 0.5);\r\n\r\n    if (level) {\r\n        selectFloor(level);\r\n        document.getElementById('radio-' + level).checked = true;\r\n    }\r\n};\r\n\r\nconst getObject = name => {\r\n    // const object = meshGroup.getObjectById(id);\r\n    return meshGroup.getObjectByName(name);\r\n};\r\n\r\nconst objectPosition = new Vector3();\r\n// TODO: create line as indicator from label to object\r\nconst setLabel = (label, position, radius, category, id) => {\r\n    // Get selected item info based on the id\r\n    const objectInfo = Config.contents[category].content.find(object => object.id === parseInt(id));\r\n\r\n    if (document.querySelector('.label-card')) {\r\n        // document.querySelector('.label-card').dataset.item = `${ category }-${ id }`;\r\n        document.getElementById('label-title').textContent = objectInfo.title;\r\n        document.getElementById('label-subtitle').textContent = `From ${ objectInfo.subtitle }`;\r\n        document.getElementById('label-image').style.backgroundImage = `url(${ objectInfo.image })`;\r\n    }\r\n\r\n    // For calculating the distance between camera and selected object when scaling the label on camera zoom\r\n    objectPosition.copy(labelPivot.position);\r\n    objectPosition.divideScalar(labelScale);\r\n\r\n    // Add the CSS3DObject as child to the (invisible) Object3D\r\n    labelScene.add(labelPivot);\r\n    labelPivot.add(label.object);\r\n\r\n    // Correct for scaling down label\r\n    labelPivot.position.set(labelScale * position.x, labelScale * position.y, labelScale * position.z);\r\n\r\n    label.element.style.opacity = '90%';\r\n    label.object.userData = { set: true };\r\n};\r\n\r\nconst removeLabel = label => {\r\n    // label.element.innerHTML = '';\r\n    label.element.style.opacity = Config.isDev ? '10%' : '0';\r\n    label.element.style.pointerEvents = 'none';\r\n\r\n    labelScene.add(label.object);\r\n    label.object.position.set(0, 0, 0);\r\n    label.object.userData = { set: false };\r\n};\r\n\r\nconst panView = bool => {\r\n    bool ? camera.setViewOffset(screenWidth, screenHeight, panViewDistance, 0, screenWidth, screenHeight)\r\n        : camera.clearViewOffset();\r\n};\r\n\r\nconst resetCamera = () => {\r\n    const pos = { x: -100, y: 150, z: 250 };\r\n\r\n    // Reset camera to initial state\r\n    animateCamera(pos, 1, undefined, \"expo.inOut\");\r\n    animateLookAt({ x: 0, y: 0, z: 0 });\r\n};\r\n\r\nconst resetSelected = () => {\r\n    /*if (INTERSECTED) {\r\n        INTERSECTED.material.color.setHex(INTERSECTED.currentHex);\r\n    }*/\r\n    Utils.setIntersected(null);\r\n\r\n    closeDrawer();\r\n    removeLabel(label);\r\n    Utils.setSelectedObject(null);\r\n};\r\n\r\nconst openDrawer = () => {\r\n    panView(true);\r\n    Categories.setDrawerState(true);\r\n    Utils.setFocus(Categories.getDrawerState() && Utils.getSelectedObject() !== null);\r\n\r\n    // When drawer is opened, disable label hovering & outline and some of the OrbitControls\r\n    controls.enablePan = false;\r\n    controls.enableZoom = false;\r\n\r\n    !Utils.getFocus() && removeLabel(label);\r\n\r\n    container.removeEventListener('mousemove', onMouseMove);\r\n\r\n    // Set blur effect to focus on side panel\r\n    Utils.getFocus() ? showBlur({ focus: 27, aperture: 0.003 })\r\n        : showBlur({ focus: 0, aperture: 10 });\r\n};\r\n\r\nconst closeDrawer = () => {\r\n    panView(false);\r\n    Categories.setDrawerState(false);\r\n    Utils.setFocus(false);\r\n\r\n    controls.enablePan = true;\r\n    controls.enableZoom = true;\r\n\r\n    container.addEventListener('mousemove', onMouseMove);\r\n\r\n    showBlur();\r\n};\r\n\r\nconst toggleDrawer = () => {\r\n    Categories.getDrawerState() ? closeDrawer(): openDrawer();\r\n};\r\n\r\nconst showSAO = bool => {\r\n    Utils.getSaoPass().params.output = bool ? 0 : 1; // 0 = SAO and 1 = Beauty\r\n};\r\n\r\nconst showBlur = (values = { focus: 0, aperture: 0 }) => {\r\n    Object.entries(values).map(([key, value]) => {\r\n        Utils.getBokehPass().uniforms[key].value = value;\r\n    });\r\n};\r\n\r\nconst showPerformanceMonitor = bool => {\r\n    stats.dom.style.display = bool ? 'block' : 'none';\r\n    Utils.setPerformanceMonitor(bool);\r\n};\r\n\r\nconst castShadows = bool => {\r\n    directionalLight.castShadow = bool;\r\n    for (const pointLight of Object.values(pointLights)) {\r\n        pointLight.object.castShadow = bool;\r\n    }\r\n    /*scene.traverse(node => {\r\n        if (node instanceof Mesh) {\r\n            node.receiveShadow = bool;\r\n            node.castShadow = bool;\r\n        }\r\n    });*/\r\n};\r\n\r\nexport default {\r\n    init,\r\n    selectFloor,\r\n    updateSunLight,\r\n    animateCamera,\r\n    animateLookAt,\r\n    getObject,\r\n    selectObject,\r\n    hoverObject,\r\n    resetCamera,\r\n    resetSelected,\r\n    toggleDrawer,\r\n    showPerformanceMonitor,\r\n    showSAO,\r\n    castShadows,\r\n};\r\n\r\n","const Cards = contents => Object.keys(contents).map((category, index) => `\r\n    <h1 id=${ category + '-' + index } class='mdc-typography--headline5 category-title'>${ category.replace('_', ' ') }</h1>\r\n    \r\n    ${ contents[category].content.map(item => `\r\n        <div id='${ category }-${ item.id }' class='mdc-card mdc-card--outlined'>\r\n            <a href=${ item.url } target='_blank'>\r\n                <div class='mdc-card__primary-action'>\r\n                    <div class='mdc-card__media mdc-card__media--16-9' style='background-image: url(${ item.image });'>\r\n                        <div class='mdc-card__media-content'>\r\n                            <div class='mdc-card__primary'>\r\n                                <h2 class='mdc-card__title mdc-typography mdc-typography--headline6'>${ item.title }</h2>\r\n                                <h3 class='mdc-card__subtitle mdc-typography mdc-typography--subtitle2'>${ item.subtitle }</h3>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </a>\r\n            ${ item.text === '' ? '' : `<div class='mdc-card__secondary mdc-typography mdc-typography--body2'>${ item.text }</div>`}\r\n            <div class='mdc-card__actions'>\r\n                <div class='mdc-card__action-buttons'>\r\n                    <button class='mdc-button mdc-card__action mdc-card__action--button'>\r\n                      <div id='${ item.name }' class='mdc-button__ripple'></div>\r\n                      <span class='mdc-button__label'>Focus on item</span>\r\n                      <i class='material-icons mdc-button__icon' aria-hidden='true'>${ item.icon }</i>\r\n                    </button>\r\n                </div>\r\n                <div class='mdc-card__action-icons'>\r\n                    <a href=${ item.url } target='_blank'>\r\n                        <button class='material-icons mdc-icon-button mdc-card__action mdc-card__action--icon' title='Go to link'>launch</button>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    `).join('') }\r\n`).join('');\r\n\r\nexport default Cards;\r\n","\r\nconst Levels = levels => `\r\n    <div class='mdc-form-field'>\r\n    ${ levels.map((level, index) => {\r\n        const i = index + 1;\r\n        \r\n        return `\r\n            <div class='mdc-radio mdc-radio--touch'>\r\n                <input class='mdc-radio__native-control' \r\n                       type='radio' \r\n                       id='radio-${ i }' \r\n                       name='radio-levels' \r\n                       value=${ i } \r\n                       ${ i === levels.length ? 'checked' : ''}\r\n                       >\r\n                <div class='mdc-radio__background'>\r\n                    <div class='mdc-radio__outer-circle'></div>\r\n                    <div class='mdc-radio__inner-circle'></div>\r\n                </div>\r\n                <div class='mdc-radio__ripple'></div>\r\n            </div>\r\n            <label for='radio-${ i }'>${ level }</label>\r\n        `;\r\n    }).join('') }\r\n`;\r\n\r\nexport default Levels;\r\n\r\n","\r\nconst TimeToggle = `\r\n    <div class='circle-range'>\r\n        <div class='time'></div>\r\n        <div class='slider'></div>\r\n    </div>\r\n`;\r\n\r\nconst Controls = config => `\r\n    <div class='button-container'>\r\n    ${ config.controls.map(view => `\r\n        <button class='${ view }-view-button mdc-button mdc-button--outlined'>\r\n            <span class='mdc-button__ripple'></span>\r\n            <span class='mdc-button__label'>${ view }</span>\r\n        </button>\r\n    `).join('') }\r\n    </div>    \r\n    \r\n    <ul class='mdc-list mdc-list--two-line' role='group' aria-label='List with control items'>\r\n        <li class='mdc-list-item' role='checkbox' aria-checked=${ config.isMobile } tabindex='0'>\r\n            <span class='mdc-list-item__ripple'></span>\r\n            <span class='mdc-list-item__graphic'>\r\n                <div class='lite-mode-checkbox mdc-checkbox'>\r\n                    <input type='checkbox'\r\n                            class='mdc-checkbox__native-control'\r\n                            id='demo-list-checkbox-item-2' />\r\n                    <div class='mdc-checkbox__background'>\r\n                      <svg class='mdc-checkbox__checkmark'\r\n                            viewBox='0 0 24 24'>\r\n                        <path class='mdc-checkbox__checkmark-path'\r\n                              fill='none'\r\n                              d='M1.73,12.91 8.1,19.28 22.79,4.59'/>\r\n                      </svg>\r\n                      <div class='mdc-checkbox__mixedmark'></div>\r\n                    </div>\r\n                  </div>\r\n            </span>\r\n            <label class='mdc-list-item__text' for='demo-list-checkbox-item-1'>\r\n              <span class='mdc-list-item__primary-text'>Lite mode</span>\r\n              <span class='mdc-list-item__secondary-text'>Makes things run smoother</span>\r\n            </label>\r\n        </li>\r\n      <li class='mdc-list-item' role='checkbox' aria-checked=${ config.isDev }>\r\n        <span class='mdc-list-item__ripple'></span>\r\n        <span class='mdc-list-item__graphic'>\r\n          <div class='performance-monitor-checkbox mdc-checkbox'>\r\n            <input type='checkbox'\r\n                    class='mdc-checkbox__native-control'\r\n                    id='demo-list-checkbox-item-1' />\r\n            <div class='mdc-checkbox__background'>\r\n              <svg class='mdc-checkbox__checkmark'\r\n                    viewBox='0 0 24 24'>\r\n                <path class='mdc-checkbox__checkmark-path'\r\n                      fill='none'\r\n                      d='M1.73,12.91 8.1,19.28 22.79,4.59'/>\r\n              </svg>\r\n              <div class='mdc-checkbox__mixedmark'></div>\r\n            </div>\r\n          </div>\r\n        </span>\r\n        <label class='mdc-list-item__text' for='demo-list-checkbox-item-1'>\r\n          <span class='mdc-list-item__primary-text'>Performance monitor</span>\r\n          <span class='mdc-list-item__secondary-text'>Display FPS and memory usage</span>\r\n        </label>\r\n      </li>\r\n    </ul>\r\n    \r\n    ${ TimeToggle }\r\n`;\r\n\r\nexport default Controls;\r\n","import { MDCRipple } from '@material/ripple/index';\r\nimport { MDCFormField } from '@material/form-field';\r\nimport { MDCRadio } from '@material/radio';\r\nimport { MDCList } from '@material/list';\r\nimport { MDCCheckbox } from '@material/checkbox';\r\n\r\nimport { gsap } from 'gsap/all';\r\n\r\n// Local import\r\nimport Scene from './Scene';\r\nimport Categories from './Categories';\r\nimport Utils from './utils/Utils';\r\nimport Config from './data/Config';\r\nimport Cards from './Cards';\r\nimport Levels from './Levels';\r\nimport Controls from './Controls';\r\n// Style import\r\nimport '../scss/main.scss';\r\n\r\n/* For testing Babel polyfills */\r\n// import './utils/transpile.test';\r\n\r\n// TODO: add warning that it doesn't work yet on mobile/touch screens\r\n// TODO: edit camera angles for every object\r\n// TODO: add close button to drawer\r\n// TODO: if an item in drawer is selected/focused (highlighted), make other items in drawer darker\r\n\r\nconst categoryList = new MDCList(document.querySelector('#drawer-categories'));\r\ncategoryList.singleSelection = true;\r\n\r\nconst initCategoryList = () => {\r\n    const contents = Config.contents;\r\n\r\n    Object.keys(contents).map((category, index) => {\r\n        const button = Categories.createCategoryButton(category, contents[category].icon, index);\r\n        document.querySelector('#drawer-categories').innerHTML += button;\r\n    });\r\n\r\n    listListen(categoryList);\r\n};\r\n\r\nconst listListen = mdcList => {\r\n    mdcList.listen('MDCList:action', event => {\r\n        const target = event.detail.index;\r\n        const category = event.target.children[target];\r\n\r\n        if (Categories.getDrawerState()) { // Drawer already open\r\n            Categories.scrollTo(category.id);\r\n        } else {\r\n            // Otherwise toggle the drawer state\r\n            Scene.toggleDrawer();\r\n            Categories.scrollTo(category.id);\r\n        }\r\n    });\r\n};\r\n\r\nconst initCards = () => {\r\n    const categoryContainer = document.querySelector('aside');\r\n    document.querySelector('#cards').innerHTML = Cards(Config.contents);\r\n    connectObserver(observer(categoryList, categoryContainer));\r\n\r\n    document.querySelectorAll('.mdc-card__actions').forEach(element => {\r\n        element.addEventListener('click', event => {\r\n            const object = Scene.getObject(event.target.id);\r\n            Scene.selectObject(object);  // Drawer stays open in this case\r\n        });\r\n    });\r\n};\r\n\r\nconst initLevels = () => {\r\n    document.querySelector('#levels').innerHTML = Levels(Config.levels);\r\n\r\n    const radio = new MDCRadio(document.querySelector('.mdc-radio'));\r\n    const formField = new MDCFormField(document.querySelector('#levels > .mdc-form-field'));\r\n    formField.input = radio;\r\n\r\n    Scene.selectFloor(Config.levels.length);\r\n\r\n    formField.listen('change', event => { Scene.selectFloor(event.target.value); });\r\n};\r\n\r\nconst initRipples = (selectors, isUnbounded = false) => {\r\n    document.querySelectorAll(selectors).forEach(element => {\r\n        const ripple = new MDCRipple(element);\r\n        ripple.unbounded = isUnbounded;\r\n        return ripple;\r\n    });\r\n    // [].map.call(document.querySelectorAll(elements), element => new MDCRipple(element));\r\n    // list.listElements.map(element => new MDCRipple(element));\r\n};\r\n\r\nconst observer = (scrollElement, observedElement) => new IntersectionObserver(entries => {\r\n    entries.forEach(entry => {\r\n        if (entry.intersectionRatio > 0) { // In the view\r\n            const index = entry.target.id.split('-')[1];\r\n            scrollElement.selectedIndex = Number(index);\r\n        }\r\n    });\r\n}, {\r\n    root: observedElement,\r\n    rootMargin: '0px 0px -75% 0px', // TODO: check if rootMargin property is necessary\r\n    delay: 500,\r\n});\r\n\r\nconst connectObserver = obs => {\r\n    document.querySelectorAll('.category-title').forEach(item => {\r\n        obs.observe(item);\r\n    });\r\n};\r\n\r\nconst initControls = () => {\r\n    document.querySelector('#controls').innerHTML = Controls(Config);\r\n\r\n    document.querySelector('.reset-view-button').addEventListener('click', () => {\r\n        Scene.resetCamera();\r\n        Scene.resetSelected();\r\n    });\r\n\r\n    document.querySelector('.front-view-button').addEventListener('click', () => {\r\n        Scene.animateCamera(Config.cameraViews.front);\r\n        Scene.animateLookAt({ x: 0, y: 0, z: 0 });\r\n        Scene.resetSelected();\r\n    });\r\n\r\n    document.querySelector('.top-view-button').addEventListener('click', () => {\r\n        Scene.animateCamera(Config.cameraViews.top);\r\n        Scene.animateLookAt({ x: 0, y: 0, z: 0 });\r\n        Scene.resetSelected();\r\n    });\r\n\r\n    document.querySelector('.back-view-button').addEventListener('click', () => {\r\n        Scene.animateCamera(Config.cameraViews.back);\r\n        Scene.animateLookAt({ x: 0, y: 0, z: 0 });\r\n        Scene.resetSelected();\r\n    });\r\n\r\n    const controlsList = new MDCList(document.querySelector('#controls > .mdc-list'));\r\n    controlsList.singleSelection = true;\r\n    const liteModeCheckbox = new MDCCheckbox(document.querySelector('.lite-mode-checkbox'));\r\n    const performanceCheckbox = new MDCCheckbox(document.querySelector('.performance-monitor-checkbox'));\r\n\r\n    liteModeCheckbox.checked = true; // Config.isMobile; // TODO: add directionallight to 'non-lite' mode?\r\n    performanceCheckbox.checked = Config.isDev;\r\n\r\n    Scene.showSAO(!liteModeCheckbox.checked);\r\n    Scene.castShadows(true);\r\n    // Scene.castShadows(!liteModeCheckbox.checked);\r\n    Scene.showPerformanceMonitor(performanceCheckbox.checked);\r\n\r\n    // Lite mode\r\n    liteModeCheckbox.listen('change', event => {\r\n        Scene.showSAO(!event.target.checked);\r\n        // Scene.castShadows(!event.target.checked);\r\n    });\r\n    performanceCheckbox.listen('change', event => {\r\n        Scene.showPerformanceMonitor(event.target.checked);\r\n    });\r\n\r\n    // Set UI, scene and controls to current time\r\n    const circleRangeElement = document.querySelector('.circle-range');\r\n    const slider = document.querySelector('.slider');\r\n    const timeElement = document.querySelector('.time');\r\n    const box = circleRangeElement.getBoundingClientRect();\r\n\r\n    const centerX = (circleRangeElement.offsetWidth / 2) + box.left;\r\n    const centerY = (circleRangeElement.offsetHeight / 2) + box.top;\r\n\r\n    const date = new Date();\r\n    const currentTime = { hours: date.getHours(), minutes: date.getMinutes() };\r\n    const currentAngle = Utils.timeToAngle(currentTime);\r\n\r\n    const animateTimeSlider = angle => {\r\n        gsap.to(slider, {\r\n            rotation: angle.toFixed(2),\r\n            duration: 2,\r\n            onUpdate: () => {\r\n                const currentRotation = Math.round(gsap.getProperty(slider, 'rotation'));\r\n                const time = Utils.angleToTime(currentRotation);\r\n\r\n                Utils.setTime({ time: time, rotation: currentRotation });\r\n                Scene.updateSunLight();\r\n\r\n                timeElement.textContent = Utils.formatTime(time);\r\n                slider.style.setProperty(Config.timeHandle.cssVar, Config.timeHandle.activeColor);\r\n            },\r\n            onComplete: () => {\r\n                slider.style.setProperty(Config.timeHandle.cssVar, Config.timeHandle.inActiveColor);\r\n            },\r\n        });\r\n    }\r\n\r\n    // Setup initial scene time\r\n    Utils.setTime({ time: currentTime, rotation: currentAngle });\r\n    Scene.updateSunLight();\r\n    Utils.setFinalTimeAngle(currentAngle);\r\n\r\n    gsap.to(slider, {\r\n        rotation: Utils.getFinalTimeAngle().toFixed(2),\r\n    });\r\n    // slider.style.transform = `rotate(${ currentAngle }deg)`;\r\n    timeElement.textContent = Utils.formatTime(currentTime);\r\n    slider.style.setProperty(Config.timeHandle.cssVar, Config.timeHandle.inActiveColor);\r\n\r\n    window.addEventListener('mouseup',() => {\r\n        Utils.setDragging(false);\r\n        document.body.style.cursor = 'auto';\r\n    });\r\n    slider.addEventListener('mousedown',() => {\r\n        Utils.setDragging(true);\r\n        document.body.style.cursor = 'grabbing';\r\n    });\r\n    window.addEventListener('mousemove',event => {\r\n        if (Utils.getDragging()) {\r\n            const posX = event.pageX;\r\n            const posY = event.pageY;\r\n\r\n            const deltaX = centerX - posX;\r\n            const deltaY = centerY - posY;\r\n\r\n            // Radians to degrees and rotate counterclockwise\r\n            const endAngleAtan2 = Math.atan2(deltaY, deltaX) * (180 / Math.PI) - 90;\r\n            // Map from [-180,180] to [0,360]\r\n            const endAngle = (endAngleAtan2 + 360) % 360;\r\n            // Start from last recorded angle\r\n            const startAngle = Utils.getFinalTimeAngle();\r\n            // Note that this angle has no upper nor lower limit. So in theory this could end up becoming a really large\r\n            // number. This could potentially lead to performance issues, but hey, it's a bit of an edge case.\r\n            const resultAngle = Utils.lerpAngle(startAngle, endAngle, 0.75);\r\n\r\n            animateTimeSlider(resultAngle);\r\n            /*slider.style.transform = `rotate(${ resultAngle }deg)`;\r\n            timeElement.textContent = Math.round(resultAngle).toString();*/\r\n            Utils.setFinalTimeAngle(resultAngle);\r\n        }\r\n    });\r\n    timeElement.addEventListener('click',() => {\r\n        // Make it so that the angle difference we're rotating to is within 0-720 range\r\n        const resultAngle = Math.floor(Utils.getFinalTimeAngle() / 720) * 720 + currentAngle;\r\n\r\n        animateTimeSlider(resultAngle);\r\n        Utils.setFinalTimeAngle(resultAngle);\r\n    });\r\n};\r\n\r\ninitCategoryList();\r\nScene.init();\r\ninitCards();\r\ninitLevels();\r\ninitControls();\r\ninitRipples('.mdc-button, .mdc-card__primary-action');\r\n\r\nconst greet = 'Hey there!';\r\nconst beNice = 'Good to see you here, hope you\\'re doing great.';\r\nconst persuasion = 'Interested in more of my work?';\r\nconst link = 'Here\\'s my portfolio: https://aidanbundel.com';\r\nconst exitConvo = 'Made with ðŸ’œ';\r\n\r\nconsole.log(`\r\n  %c\r\n  ${ greet }\r\n  ${ beNice }\r\n  ${ persuasion }\r\n  ${ link }\r\n  \r\n  ${ exitConvo }\r\n`, 'color: purple');\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkhome_simulator\"] = self[\"webpackChunkhome_simulator\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [216,23], () => (__webpack_require__(6003)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","drawer","MDCDrawer","document","querySelector","drawerContainer","gsap","ScrollToPlugin","animateContainer","offset","duration","delay","ease","scrollTo","categoryName","iconName","index","replace","open","id","getElementById","offsetTop","isDev","WEBPACK_MODE","isMobile","window","screen","width","levels","controls","contents","Living_Room","icon","content","name","title","subtitle","text","image","couch","url","camera","position_offset","x","y","z","zoom","blur","focus","aperture","tv","tvCabinet","stairs","Kitchen","kitchen","table","Bedroom","bed","placeholder","Study","Miscellaneous","cameraViews","front","top","back","outlinePassParameters","edgeStrength","edgeGlow","edgeThickness","pulsePeriod","rotate","usePatternTexture","saoParameters","output","saoBias","saoIntensity","saoScale","saoKernelRadius","saoMinResolution","saoBlur","saoBlurRadius","saoBlurStdDev","saoBlurDepthCutoff","bokehParameters","maxblur","timeHandle","cssVar","activeColor","inActiveColor","SELECTABLE","SHOW","isAnimating","isDragging","INTERSECTED","SELECTED","TIME","TIME_ANGLE","SAO","isFocus","BOKEH","padSingleDigit","n","toString","padStart","loadingScreen","classList","add","className","bool","object","pass","time","timeAngle","saoPass","bokehPass","gui","GUI","domElement","style","float","marginRight","marginLeft","params","SAOPass","onChange","value","parseInt","Config","uniforms","close","event","mouse","Vector2","clientX","innerWidth","clientY","innerHeight","element","createElement","opacity","innerHTML","body","appendChild","CSS3DObject","position","set","userData","remove","start","end","alpha","shortestAngle","Math","min","shortestAngleDistance","angle","h","floor","m","hours","minutes","container","renderer","WebGLRenderer","scene","Scene","labelScene","labelRenderer","CSS3DRenderer","raycaster","Raycaster","labelPivot","Object3D","meshGroup","Group","stats","Stats","screenWidth","screenHeight","aspect","PerspectiveCamera","OrbitControls","composer","EffectComposer","outlinePass","OutlinePass","effectFXAA","ShaderPass","FXAAShader","label","Utils","nrOfLevels","length","labelScale","groundColor","Color","dayLightColor","dayLightColorAmbient","dayLightColorHemiSky","dayLightColorHemiGround","twilightColor","twilightColorHemiSky","twilightColorHemiGround","nightLightColor","nightLightColorAmbient","nightLightColorHemiSky","directionalLight","DirectionalLight","ambientLight","AmbientLight","hemisphereLight","HemisphereLight","pointLights","PointLight","Vector3","initPostprocessing","setSize","renderPass","RenderPass","addPass","visibleEdgeColor","hiddenEdgeColor","gammaCorrection","GammaCorrectionShader","BokehPass","animate","resetCamera","requestAnimationFrame","quaternion","slerp","labelToCameraScale","objectPosition","distanceTo","scale","setScalar","update","enabled","begin","render","resizeCanvas","height","updateProjectionMatrix","getIntersects","setFromCamera","intersectObjects","children","onMouseMove","intersects","hoveredObject","indexOf","hoverObject","selectedObjects","cursor","onClick","resetSelected","selectObject","removeLabel","changeLightColors","transitionAlpha","colors","background","lerp","color","dayAlpha","twilightAlpha","nightAlpha","setPointLights","Object","values","forEach","light","intensity","selectFloor","setVisibility","level","visibility","layers","enable","disable","i","animateCamera","targetPosition","targetZoom","easing","_openDrawer","onStart","removeEventListener","onComplete","addEventListener","openDrawer","animateLookAt","lookAt","target","objectNameArray","split","category","setLabel","geometry","boundingSphere","radius","material","charAt","objectSize","objectContent","find","undefined","setTimeout","Categories","lookAtAnimationDuration","checked","objectInfo","textContent","backgroundImage","copy","divideScalar","pointerEvents","panView","setViewOffset","clearViewOffset","closeDrawer","enablePan","enableZoom","showBlur","entries","map","key","init","progressElement","setPixelRatio","devicePixelRatio","outputEncoding","sRGBEncoding","shadowMap","rotation","order","mouseButtons","LEFT","MOUSE","MIDDLE","RIGHT","enableDamping","dampingFactor","maxPolarAngle","PI","minDistance","maxDistance","Infinity","castShadow","shadow","mapSize","left","right","bottom","pointLight","PlaneBufferGeometry","rotateX","translate","MeshStandardMaterial","flatShading","plane","Mesh","receiveShadow","loader","GLTFLoader","dracoLoader","DRACOLoader","setDecoderPath","setDRACOLoader","load","modelName","gltf","model","traverse","node","transparent","layer","WEBGL","warning","progress","percentage","round","loaded","total","console","log","error","dom","dirLightCamHelper","CameraHelper","hemiSphereHelper","HemisphereLightHelper","axesHelper","AxesHelper","pointLightHelper","PointLightHelper","updateSunLight","_","rotationRadians","nSin","sin","nCos","cos","f","max","dt","getObject","getObjectByName","toggleDrawer","showPerformanceMonitor","display","showSAO","castShadows","keys","item","join","config","view","categoryList","MDCList","singleSelection","categoryContainer","listListen","mdcList","listen","detail","observer","scrollElement","observedElement","IntersectionObserver","entry","intersectionRatio","selectedIndex","Number","root","rootMargin","connectObserver","obs","querySelectorAll","observe","button","initCategoryList","Cards","Levels","radio","MDCRadio","formField","MDCFormField","input","initLevels","Controls","liteModeCheckbox","MDCCheckbox","performanceCheckbox","circleRangeElement","slider","timeElement","box","getBoundingClientRect","centerX","offsetWidth","centerY","offsetHeight","date","Date","currentTime","getHours","getMinutes","currentAngle","animateTimeSlider","toFixed","onUpdate","currentRotation","setProperty","posX","pageX","posY","pageY","deltaX","deltaY","endAngle","atan2","startAngle","resultAngle","initControls","selectors","isUnbounded","ripple","MDCRipple","unbounded","initRipples","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","O","result","chunkIds","fn","priority","notFulfilled","fulfilled","j","every","splice","r","d","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","e","obj","prop","prototype","hasOwnProperty","call","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","bind","push","__webpack_exports__"],"sourceRoot":""}